"use strict";(self.webpackChunkproject_pikachu=self.webpackChunkproject_pikachu||[]).push([[599],{3599:(e,t,n)=>{n.r(t),n.d(t,{Combobox:()=>Te,Dialog:()=>bt,Disclosure:()=>kt,FocusTrap:()=>Ne,Listbox:()=>Vt,Menu:()=>pn,Popover:()=>kn,Portal:()=>Ye,RadioGroup:()=>Kn,Switch:()=>Vn,Tab:()=>pr,Transition:()=>Dr});var r=n(2950),o=n.n(r);let a="undefined"!=typeof window?r.useLayoutEffect:r.useEffect;function l(e){let t=(0,r.useRef)(e);return a((()=>{t.current=e}),[e]),t}function i(e,t){let[n,o]=(0,r.useState)(e),i=l(e);return a((()=>o(i.current)),[i,o,...t]),n}function u(){let e=[],t=[],n={enqueue(e){t.push(e)},addEventListener:(e,t,r,o)=>(e.addEventListener(t,r,o),n.add((()=>e.removeEventListener(t,r,o)))),requestAnimationFrame(...e){let t=requestAnimationFrame(...e);return n.add((()=>cancelAnimationFrame(t)))},nextFrame:(...e)=>n.requestAnimationFrame((()=>n.requestAnimationFrame(...e))),setTimeout(...e){let t=setTimeout(...e);return n.add((()=>clearTimeout(t)))},add:t=>(e.push(t),()=>{let n=e.indexOf(t);if(n>=0){let[t]=e.splice(n,1);t()}}),dispose(){for(let t of e.splice(0))t()},async workQueue(){for(let e of t.splice(0))await e()}};return n}function s(){let[e]=(0,r.useState)(u);return(0,r.useEffect)((()=>()=>e.dispose()),[e]),e}let c=function(e){let t=l(e);return o().useCallback(((...e)=>t.current(...e)),[t])},d={serverHandoffComplete:!1};function p(){let[e,t]=(0,r.useState)(d.serverHandoffComplete);return(0,r.useEffect)((()=>{!0!==e&&t(!0)}),[e]),(0,r.useEffect)((()=>{!1===d.serverHandoffComplete&&(d.serverHandoffComplete=!0)}),[]),e}var f;let v=0;function m(){return++v}let b=null!=(f=o().useId)?f:function(){let e=p(),[t,n]=o().useState(e?m:null);return a((()=>{null===t&&n(m())}),[t]),null!=t?""+t:void 0};function g(e,t,...n){if(e in t){let r=t[e];return"function"==typeof r?r(...n):r}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map((e=>`"${e}"`)).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,g),r}function h(e){return"undefined"==typeof window?null:e instanceof Node?e.ownerDocument:null!=e&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}let x=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map((e=>`${e}:not([tabindex='-1'])`)).join(",");var y,R,P=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(P||{}),S=((R=S||{})[R.Error=0]="Error",R[R.Overflow=1]="Overflow",R[R.Success=2]="Success",R[R.Underflow=3]="Underflow",R),E=((y=E||{})[y.Previous=-1]="Previous",y[y.Next=1]="Next",y);function I(e=document.body){return null==e?[]:Array.from(e.querySelectorAll(x))}var w=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(w||{});function T(e,t=0){var n;return e!==(null==(n=h(e))?void 0:n.body)&&g(t,{0:()=>e.matches(x),1(){let t=e;for(;null!==t;){if(t.matches(x))return!0;t=t.parentElement}return!1}})}function C(e){null==e||e.focus({preventScroll:!0})}let O=["textarea","input"].join(",");function D(e,t=(e=>e)){return e.slice().sort(((e,n)=>{let r=t(e),o=t(n);if(null===r||null===o)return 0;let a=r.compareDocumentPosition(o);return a&Node.DOCUMENT_POSITION_FOLLOWING?-1:a&Node.DOCUMENT_POSITION_PRECEDING?1:0}))}function k(e,t,n=!0){let r,o=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,a=Array.isArray(e)?n?D(e):e:I(e),l=o.activeElement,i=(()=>{if(5&t)return 1;if(10&t)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=(()=>{if(1&t)return 0;if(2&t)return Math.max(0,a.indexOf(l))-1;if(4&t)return Math.max(0,a.indexOf(l))+1;if(8&t)return a.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),s=32&t?{preventScroll:!0}:{},c=0,d=a.length;do{if(c>=d||c+d<=0)return 0;let e=u+c;if(16&t)e=(e+d)%d;else{if(e<0)return 3;if(e>=d)return 1}r=a[e],null==r||r.focus(s),c+=i}while(r!==o.activeElement);return 6&t&&function(e){var t,n;return null!=(n=null==(t=null==e?void 0:e.matches)?void 0:t.call(e,O))&&n}(r)&&r.select(),r.hasAttribute("tabindex")||r.setAttribute("tabindex","0"),2}function F(e,t,n){let o=l(t);(0,r.useEffect)((()=>{function t(e){o.current(e)}return window.addEventListener(e,t,n),()=>window.removeEventListener(e,t,n)}),[e,n])}function L(e,t,n=!0){let o=(0,r.useRef)(!1);function a(n,r){if(!o.current||n.defaultPrevented)return;let a=function e(t){return"function"==typeof t?e(t()):Array.isArray(t)||t instanceof Set?t:[t]}(e),l=r(n);if(null!==l&&l.ownerDocument.documentElement.contains(l)){for(let e of a){if(null===e)continue;let t=e instanceof HTMLElement?e:e.current;if(null!=t&&t.contains(l))return}return!T(l,w.Loose)&&-1!==l.tabIndex&&n.preventDefault(),t(n,l)}}(0,r.useEffect)((()=>{requestAnimationFrame((()=>{o.current=n}))}),[n]),F("click",(e=>a(e,(e=>e.target))),!0),F("blur",(e=>a(e,(()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null))),!0)}function A(e){var t;if(e.type)return e.type;let n=null!=(t=e.as)?t:"button";return"string"==typeof n&&"button"===n.toLowerCase()?"button":void 0}function M(e,t){let[n,o]=(0,r.useState)((()=>A(e)));return a((()=>{o(A(e))}),[e.type,e.as]),a((()=>{n||!t.current||t.current instanceof HTMLButtonElement&&!t.current.hasAttribute("type")&&o("button")}),[n,t]),n}let N=Symbol();function $(e,t=!0){return Object.assign(e,{[N]:t})}function B(...e){let t=(0,r.useRef)(e);(0,r.useEffect)((()=>{t.current=e}),[e]);let n=c((e=>{for(let n of t.current)null!=n&&("function"==typeof n?n(e):n.current=e)}));return e.every((e=>null==e||(null==e?void 0:e[N])))?void 0:n}function U({container:e,accept:t,walk:n,enabled:o=!0}){let l=(0,r.useRef)(t),i=(0,r.useRef)(n);(0,r.useEffect)((()=>{l.current=t,i.current=n}),[t,n]),a((()=>{if(!e||!o)return;let t=h(e);if(!t)return;let n=l.current,r=i.current,a=Object.assign((e=>n(e)),{acceptNode:n}),u=t.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,a,!1);for(;u.nextNode();)r(u.currentNode)}),[e,o,l,i])}var H=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(H||{});function j(e,t){let n=t.resolveItems();if(n.length<=0)return null;let r=t.resolveActiveIndex(),o=null!=r?r:-1,a=(()=>{switch(e.focus){case 0:return n.findIndex((e=>!t.resolveDisabled(e)));case 1:{let e=n.slice().reverse().findIndex(((e,n,r)=>!(-1!==o&&r.length-n-1>=o||t.resolveDisabled(e))));return-1===e?e:n.length-1-e}case 2:return n.findIndex(((e,n)=>!(n<=o||t.resolveDisabled(e))));case 3:{let e=n.slice().reverse().findIndex((e=>!t.resolveDisabled(e)));return-1===e?e:n.length-1-e}case 4:return n.findIndex((n=>t.resolveId(n)===e.id));case 5:return null;default:!function(e){throw new Error("Unexpected object: "+e)}(e)}})();return-1===a?r:a}var G=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(G||{}),_=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(_||{});function K({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:o,visible:a=!0,name:l}){let i=q(t,e);if(a)return W(i,n,r,l);let u=null!=o?o:0;if(2&u){let{static:e=!1,...t}=i;if(e)return W(t,n,r,l)}if(1&u){let{unmount:e=!0,...t}=i;return g(e?0:1,{0:()=>null,1:()=>W({...t,hidden:!0,style:{display:"none"}},n,r,l)})}return W(i,n,r,l)}function W(e,t={},n,o){let{as:a=n,children:l,refName:i="ref",...u}=z(e,["unmount","static"]),s=void 0!==e.ref?{[i]:e.ref}:{},c="function"==typeof l?l(t):l;u.className&&"function"==typeof u.className&&(u.className=u.className(t));let d={};if(a===r.Fragment&&Object.keys(V(u)).length>0){if(!(0,r.isValidElement)(c)||Array.isArray(c)&&c.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${o} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(u).map((e=>`  - ${e}`)).join("\n"),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map((e=>`  - ${e}`)).join("\n")].join("\n"));return(0,r.cloneElement)(c,Object.assign({},q(c.props,V(z(u,["ref"]))),d,s))}return(0,r.createElement)(a,Object.assign({},z(u,["ref"]),a!==r.Fragment&&s,a!==r.Fragment&&d),c)}function q(...e){if(0===e.length)return{};if(1===e.length)return e[0];let t={},n={};for(let r of e)for(let e in r)e.startsWith("on")&&"function"==typeof r[e]?(null!=n[e]||(n[e]=[]),n[e].push(r[e])):t[e]=r[e];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(n).map((e=>[e,void 0]))));for(let e in n)Object.assign(t,{[e](t,...r){let o=n[e];for(let e of o){if(t.defaultPrevented)return;e(t,...r)}}});return t}function Q(e){var t;return Object.assign((0,r.forwardRef)(e),{displayName:null!=(t=e.displayName)?t:e.name})}function V(e){let t=Object.assign({},e);for(let e in t)void 0===t[e]&&delete t[e];return t}function z(e,t=[]){let n=Object.assign({},e);for(let e of t)e in n&&delete n[e];return n}function Y(e){let t=e.parentElement,n=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;let r=""===(null==t?void 0:t.getAttribute("disabled"));return(!r||!function(e){if(!e)return!1;let t=e.previousElementSibling;for(;null!==t;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}(n))&&r}function J(e={},t=null,n=[]){for(let[r,o]of Object.entries(e))Z(n,X(t,r),o);return n}function X(e,t){return e?e+"["+t+"]":t}function Z(e,t,n){if(Array.isArray(n))for(let[r,o]of n.entries())Z(e,X(t,r.toString()),o);else n instanceof Date?e.push([t,n.toISOString()]):"boolean"==typeof n?e.push([t,n?"1":"0"]):"string"==typeof n?e.push([t,n]):"number"==typeof n?e.push([t,`${n}`]):null==n?e.push([t,""]):J(n,t,e)}function ee(e){var t;let n=null!=(t=null==e?void 0:e.form)?t:e.closest("form");if(n)for(let e of n.elements)if("INPUT"===e.tagName&&"submit"===e.type||"BUTTON"===e.tagName&&"submit"===e.type||"INPUT"===e.nodeName&&"image"===e.type)return void e.click()}var te=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(te||{});let ne=Q((function(e,t){let{features:n=1,...r}=e;return K({ourProps:{ref:t,"aria-hidden":2==(2&n)||void 0,style:{position:"absolute",width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...4==(4&n)&&2!=(2&n)&&{display:"none"}}},theirProps:r,slot:{},defaultTag:"div",name:"Hidden"})})),re=(0,r.createContext)(null);re.displayName="OpenClosedContext";var oe=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(oe||{});function ae(){return(0,r.useContext)(re)}function le({value:e,children:t}){return o().createElement(re.Provider,{value:e},t)}var ie=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(ie||{}),ue=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(ue||{}),se=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(se||{}),ce=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(ce||{}),de=(e=>(e[e.OpenCombobox=0]="OpenCombobox",e[e.CloseCombobox=1]="CloseCombobox",e[e.GoToOption=2]="GoToOption",e[e.RegisterOption=3]="RegisterOption",e[e.UnregisterOption=4]="UnregisterOption",e))(de||{});function pe(e,t=(e=>e)){let n=null!==e.activeOptionIndex?e.options[e.activeOptionIndex]:null,r=D(t(e.options.slice()),(e=>e.dataRef.current.domRef.current)),o=n?r.indexOf(n):null;return-1===o&&(o=null),{options:r,activeOptionIndex:o}}let fe={1:e=>e.dataRef.current.disabled||1===e.comboboxState?e:{...e,activeOptionIndex:null,comboboxState:1},0(e){if(e.dataRef.current.disabled||0===e.comboboxState)return e;let t=e.activeOptionIndex,{isSelected:n}=e.dataRef.current,r=e.options.findIndex((e=>n(e.dataRef.current.value)));return-1!==r&&(t=r),{...e,comboboxState:0,activeOptionIndex:t}},2(e,t){var n;if(e.dataRef.current.disabled||e.dataRef.current.optionsRef.current&&!e.dataRef.current.optionsPropsRef.current.static&&1===e.comboboxState)return e;let r=pe(e);if(null===r.activeOptionIndex){let e=r.options.findIndex((e=>!e.dataRef.current.disabled));-1!==e&&(r.activeOptionIndex=e)}let o=j(t,{resolveItems:()=>r.options,resolveActiveIndex:()=>r.activeOptionIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});return{...e,...r,activeOptionIndex:o,activationTrigger:null!=(n=t.trigger)?n:1}},3:(e,t)=>{let n={id:t.id,dataRef:t.dataRef},r=pe(e,(e=>[...e,n]));null===e.activeOptionIndex&&e.dataRef.current.isSelected(t.dataRef.current.value)&&(r.activeOptionIndex=r.options.indexOf(n));let o={...e,...r,activationTrigger:1};return e.dataRef.current.__demoMode&&void 0===e.dataRef.current.value&&(o.activeOptionIndex=0),o},4:(e,t)=>{let n=pe(e,(e=>{let n=e.findIndex((e=>e.id===t.id));return-1!==n&&e.splice(n,1),e}));return{...e,...n,activationTrigger:1}}},ve=(0,r.createContext)(null);function me(e){let t=(0,r.useContext)(ve);if(null===t){let t=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,me),t}return t}ve.displayName="ComboboxActionsContext";let be=(0,r.createContext)(null);function ge(e){let t=(0,r.useContext)(be);if(null===t){let t=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,ge),t}return t}function he(e,t){return g(t.type,fe,e,t)}be.displayName="ComboboxDataContext";let xe=r.Fragment,ye=Q((function(e,t){let{name:n,value:l,onChange:i,disabled:u=!1,__demoMode:s=!1,nullable:d=!1,multiple:p=!1,...f}=e,[v,m]=(0,r.useReducer)(he,{dataRef:(0,r.createRef)(),comboboxState:s?0:1,options:[],activeOptionIndex:null,activationTrigger:1}),b=(0,r.useRef)(!1),h=(0,r.useRef)({static:!1,hold:!1}),x=(0,r.useRef)({displayValue:void 0}),y=(0,r.useRef)(null),R=(0,r.useRef)(null),P=(0,r.useRef)(null),S=(0,r.useRef)(null),E=c(((e,t)=>e===t)),I=(0,r.useCallback)((e=>g(w.mode,{1:()=>l.some((t=>E(t,e))),0:()=>E(l,e)})),[l]),w=(0,r.useMemo)((()=>({...v,optionsPropsRef:h,inputPropsRef:x,labelRef:y,inputRef:R,buttonRef:P,optionsRef:S,value:l,disabled:u,mode:p?1:0,get activeOptionIndex(){if(b.current&&null===v.activeOptionIndex&&v.options.length>0){let e=v.options.findIndex((e=>!e.dataRef.current.disabled));if(-1!==e)return e}return v.activeOptionIndex},compare:E,isSelected:I,nullable:d,__demoMode:s})),[l,u,p,d,s,v]);a((()=>{v.dataRef.current=w}),[w]),L([w.buttonRef,w.inputRef,w.optionsRef],(()=>m({type:1})),0===w.comboboxState);let T=(0,r.useMemo)((()=>({open:0===w.comboboxState,disabled:u,activeIndex:w.activeOptionIndex,activeOption:null===w.activeOptionIndex?null:w.options[w.activeOptionIndex].dataRef.current.value})),[w,u]),C=(0,r.useCallback)((()=>{var e;if(!w.inputRef.current)return;let t=x.current.displayValue;w.inputRef.current.value="function"==typeof t?null!=(e=t(l))?e:"":"string"==typeof l?l:""}),[l,w.inputRef,x]),O=c((e=>{let t=w.options.find((t=>t.id===e));!t||(N(t.dataRef.current.value),C())})),D=c((()=>{if(null!==w.activeOptionIndex){let{dataRef:e,id:t}=w.options[w.activeOptionIndex];N(e.current.value),C(),m({type:2,focus:H.Specific,id:t})}})),k=c((()=>{m({type:0}),b.current=!0})),F=c((()=>{m({type:1}),b.current=!1})),A=c(((e,t,n)=>(b.current=!1,e===H.Specific?m({type:2,focus:H.Specific,id:t,trigger:n}):m({type:2,focus:e,trigger:n})))),M=c(((e,t)=>(m({type:3,id:e,dataRef:t}),()=>m({type:4,id:e})))),N=c((e=>g(w.mode,{0:()=>i(e),1(){let t=w.value.slice(),n=t.indexOf(e);return-1===n?t.push(e):t.splice(n,1),i(t)}}))),$=(0,r.useMemo)((()=>({onChange:N,registerOption:M,goToOption:A,closeCombobox:F,openCombobox:k,selectActiveOption:D,selectOption:O})),[]);a((()=>{1===w.comboboxState&&C()}),[C,w.comboboxState]),a(C,[C]);let B=null===t?{}:{ref:t};return o().createElement(ve.Provider,{value:$},o().createElement(be.Provider,{value:w},o().createElement(le,{value:g(w.comboboxState,{0:oe.Open,1:oe.Closed})},null!=n&&null!=l&&J({[n]:l}).map((([e,t])=>o().createElement(ne,{features:te.Hidden,...V({key:e,as:"input",type:"hidden",hidden:!0,readOnly:!0,name:e,value:t})}))),K({ourProps:B,theirProps:f,slot:T,defaultTag:xe,name:"Combobox"}))))})),Re=Q((function(e,t){var n,o;let{value:l,onChange:u,displayValue:d,type:p="text",...f}=e,v=ge("Combobox.Input"),m=me("Combobox.Input"),h=B(v.inputRef,t),x=v.inputPropsRef,y=`headlessui-combobox-input-${b()}`,R=s();a((()=>{x.current.displayValue=d}),[d,x]);let P=c((e=>{switch(e.key){case ie.Backspace:case ie.Delete:if(0!==v.comboboxState||0!==v.mode||!v.nullable)return;let t=e.currentTarget;R.requestAnimationFrame((()=>{""===t.value&&(m.onChange(null),v.optionsRef.current&&(v.optionsRef.current.scrollTop=0),m.goToOption(H.Nothing))}));break;case ie.Enter:if(0!==v.comboboxState)return;if(e.preventDefault(),e.stopPropagation(),null===v.activeOptionIndex)return void m.closeCombobox();m.selectActiveOption(),0===v.mode&&m.closeCombobox();break;case ie.ArrowDown:return e.preventDefault(),e.stopPropagation(),g(v.comboboxState,{0:()=>{m.goToOption(H.Next)},1:()=>{m.openCombobox()}});case ie.ArrowUp:return e.preventDefault(),e.stopPropagation(),g(v.comboboxState,{0:()=>{m.goToOption(H.Previous)},1:()=>{m.openCombobox(),R.nextFrame((()=>{v.value||m.goToOption(H.Last)}))}});case ie.Home:case ie.PageUp:return e.preventDefault(),e.stopPropagation(),m.goToOption(H.First);case ie.End:case ie.PageDown:return e.preventDefault(),e.stopPropagation(),m.goToOption(H.Last);case ie.Escape:return 0!==v.comboboxState?void 0:(e.preventDefault(),v.optionsRef.current&&!v.optionsPropsRef.current.static&&e.stopPropagation(),m.closeCombobox());case ie.Tab:if(0!==v.comboboxState)return;m.selectActiveOption(),m.closeCombobox()}})),S=c((e=>{m.openCombobox(),null==u||u(e)})),E=i((()=>{if(v.labelRef.current)return[v.labelRef.current.id].join(" ")}),[v.labelRef.current]),I=(0,r.useMemo)((()=>({open:0===v.comboboxState,disabled:v.disabled})),[v]);return K({ourProps:{ref:h,id:y,role:"combobox",type:p,"aria-controls":null==(n=v.optionsRef.current)?void 0:n.id,"aria-expanded":v.disabled?void 0:0===v.comboboxState,"aria-activedescendant":null===v.activeOptionIndex||null==(o=v.options[v.activeOptionIndex])?void 0:o.id,"aria-multiselectable":1===v.mode||void 0,"aria-labelledby":E,disabled:v.disabled,onKeyDown:P,onChange:S},theirProps:f,slot:I,defaultTag:"input",name:"Combobox.Input"})})),Pe=Q((function(e,t){var n;let o=ge("Combobox.Button"),a=me("Combobox.Button"),l=B(o.buttonRef,t),u=`headlessui-combobox-button-${b()}`,d=s(),p=c((e=>{switch(e.key){case ie.ArrowDown:return e.preventDefault(),e.stopPropagation(),1===o.comboboxState&&a.openCombobox(),d.nextFrame((()=>{var e;return null==(e=o.inputRef.current)?void 0:e.focus({preventScroll:!0})}));case ie.ArrowUp:return e.preventDefault(),e.stopPropagation(),1===o.comboboxState&&(a.openCombobox(),d.nextFrame((()=>{o.value||a.goToOption(H.Last)}))),d.nextFrame((()=>{var e;return null==(e=o.inputRef.current)?void 0:e.focus({preventScroll:!0})}));case ie.Escape:return 0!==o.comboboxState?void 0:(e.preventDefault(),o.optionsRef.current&&!o.optionsPropsRef.current.static&&e.stopPropagation(),a.closeCombobox(),d.nextFrame((()=>{var e;return null==(e=o.inputRef.current)?void 0:e.focus({preventScroll:!0})})));default:return}})),f=c((e=>{if(Y(e.currentTarget))return e.preventDefault();0===o.comboboxState?a.closeCombobox():(e.preventDefault(),a.openCombobox()),d.nextFrame((()=>{var e;return null==(e=o.inputRef.current)?void 0:e.focus({preventScroll:!0})}))})),v=i((()=>{if(o.labelRef.current)return[o.labelRef.current.id,u].join(" ")}),[o.labelRef.current,u]),m=(0,r.useMemo)((()=>({open:0===o.comboboxState,disabled:o.disabled})),[o]),g=e;return K({ourProps:{ref:l,id:u,type:M(e,o.buttonRef),tabIndex:-1,"aria-haspopup":!0,"aria-controls":null==(n=o.optionsRef.current)?void 0:n.id,"aria-expanded":o.disabled?void 0:0===o.comboboxState,"aria-labelledby":v,disabled:o.disabled,onClick:f,onKeyDown:p},theirProps:g,slot:m,defaultTag:"button",name:"Combobox.Button"})})),Se=Q((function(e,t){let n=ge("Combobox.Label"),o=`headlessui-combobox-label-${b()}`,a=B(n.labelRef,t),l=c((()=>{var e;return null==(e=n.inputRef.current)?void 0:e.focus({preventScroll:!0})}));return K({ourProps:{ref:a,id:o,onClick:l},theirProps:e,slot:(0,r.useMemo)((()=>({open:0===n.comboboxState,disabled:n.disabled})),[n]),defaultTag:"label",name:"Combobox.Label"})})),Ee=G.RenderStrategy|G.Static,Ie=Q((function(e,t){var n;let{hold:o=!1,...l}=e,u=ge("Combobox.Options"),s=B(u.optionsRef,t),c=`headlessui-combobox-options-${b()}`,d=ae(),p=null!==d?d===oe.Open:0===u.comboboxState;a((()=>{var t;u.optionsPropsRef.current.static=null!=(t=e.static)&&t}),[u.optionsPropsRef,e.static]),a((()=>{u.optionsPropsRef.current.hold=o}),[u.optionsPropsRef,o]),U({container:u.optionsRef.current,enabled:0===u.comboboxState,accept:e=>"option"===e.getAttribute("role")?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT,walk(e){e.setAttribute("role","none")}});let f=i((()=>{var e,t,n;return null!=(n=null==(e=u.labelRef.current)?void 0:e.id)?n:null==(t=u.buttonRef.current)?void 0:t.id}),[u.labelRef.current,u.buttonRef.current]),v=(0,r.useMemo)((()=>({open:0===u.comboboxState})),[u]);return K({ourProps:{"aria-activedescendant":null===u.activeOptionIndex||null==(n=u.options[u.activeOptionIndex])?void 0:n.id,"aria-labelledby":f,role:"listbox",id:c,ref:s},theirProps:l,slot:v,defaultTag:"ul",features:Ee,visible:p,name:"Combobox.Options"})})),we=Q((function(e,t){var n,o;let{disabled:i=!1,value:s,...d}=e,p=ge("Combobox.Option"),f=me("Combobox.Option"),v=`headlessui-combobox-option-${b()}`,m=null!==p.activeOptionIndex&&p.options[p.activeOptionIndex].id===v,g=p.isSelected(s),h=(0,r.useRef)(null),x=l({disabled:i,value:s,domRef:h,textValue:null==(o=null==(n=h.current)?void 0:n.textContent)?void 0:o.toLowerCase()}),y=B(t,h),R=c((()=>f.selectOption(v)));a((()=>f.registerOption(v,x)),[x,v]);let P=(0,r.useRef)(!p.__demoMode);a((()=>{if(!p.__demoMode)return;let e=u();return e.requestAnimationFrame((()=>{P.current=!0})),e.dispose}),[]),a((()=>{if(0!==p.comboboxState||!m||!P.current||0===p.activationTrigger)return;let e=u();return e.requestAnimationFrame((()=>{var e,t;null==(t=null==(e=h.current)?void 0:e.scrollIntoView)||t.call(e,{block:"nearest"})})),e.dispose}),[h,m,p.comboboxState,p.activationTrigger,p.activeOptionIndex]);let S=c((e=>{var t;if(i)return e.preventDefault();R(),0===p.mode&&(f.closeCombobox(),null==(t=p.inputRef.current)||t.focus({preventScroll:!0}))})),E=c((()=>{if(i)return f.goToOption(H.Nothing);f.goToOption(H.Specific,v)})),I=c((()=>{i||m||f.goToOption(H.Specific,v,0)})),w=c((()=>{i||!m||p.optionsPropsRef.current.hold||f.goToOption(H.Nothing)})),T=(0,r.useMemo)((()=>({active:m,selected:g,disabled:i})),[m,g,i]);return K({ourProps:{id:v,ref:y,role:"option",tabIndex:!0===i?void 0:-1,"aria-disabled":!0===i||void 0,"aria-selected":!0===g||void 0,disabled:void 0,onClick:S,onFocus:E,onPointerMove:I,onMouseMove:I,onPointerLeave:w,onMouseLeave:w},theirProps:d,slot:T,defaultTag:"li",name:"Combobox.Option"})})),Te=Object.assign(ye,{Input:Re,Button:Pe,Label:Se,Options:Ie,Option:we});var Ce=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Ce||{});function Oe(){let e=(0,r.useRef)(0);return F("keydown",(t=>{"Tab"===t.key&&(e.current=t.shiftKey?1:0)}),!0),e}function De(){let e=(0,r.useRef)(!1);return a((()=>(e.current=!0,()=>{e.current=!1})),[]),e}function ke(...e){return(0,r.useMemo)((()=>h(...e)),[...e])}function Fe(e,t,n,o){let a=l(n);(0,r.useEffect)((()=>{function n(e){a.current(e)}return(e=null!=e?e:window).addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}),[e,t,o])}function Le(e){"function"==typeof queueMicrotask?queueMicrotask(e):Promise.resolve().then(e).catch((e=>setTimeout((()=>{throw e}))))}function Ae(e,t){let n=(0,r.useRef)([]),o=c(e);(0,r.useEffect)((()=>{for(let[e,r]of t.entries())if(n.current[e]!==r){let e=o(t);return n.current=t,e}}),[o,...t])}var Me=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(Me||{});let Ne=Object.assign(Q((function(e,t){let n=(0,r.useRef)(null),a=B(n,t),{initialFocus:l,containers:i,features:u=30,...s}=e;p()||(u=1);let d=ke(n);!function({ownerDocument:e},t){let n=(0,r.useRef)(null);Fe(null==e?void 0:e.defaultView,"focusout",(e=>{!t||n.current||(n.current=e.target)}),!0),Ae((()=>{t||((null==e?void 0:e.activeElement)===(null==e?void 0:e.body)&&C(n.current),n.current=null)}),[t]);let o=(0,r.useRef)(!1);(0,r.useEffect)((()=>(o.current=!1,()=>{o.current=!0,Le((()=>{!o.current||(C(n.current),n.current=null)}))})),[])}({ownerDocument:d},Boolean(16&u));let f=function({ownerDocument:e,container:t,initialFocus:n},o){let a=(0,r.useRef)(null);return Ae((()=>{if(!o)return;let r=t.current;if(!r)return;let l=null==e?void 0:e.activeElement;if(null!=n&&n.current){if((null==n?void 0:n.current)===l)return void(a.current=l)}else if(r.contains(l))return void(a.current=l);null!=n&&n.current?C(n.current):k(r,P.First)===S.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),a.current=null==e?void 0:e.activeElement}),[o]),a}({ownerDocument:d,container:n,initialFocus:l},Boolean(2&u));!function({ownerDocument:e,container:t,containers:n,previousActiveElement:r},o){let a=De();Fe(null==e?void 0:e.defaultView,"focus",(e=>{if(!o||!a.current)return;let l=new Set(null==n?void 0:n.current);l.add(t);let i=r.current;if(!i)return;let u=e.target;u&&u instanceof HTMLElement?function(e,t){var n;for(let r of e)if(null!=(n=r.current)&&n.contains(t))return!0;return!1}(l,u)?(r.current=u,C(u)):(e.preventDefault(),e.stopPropagation(),C(i)):C(r.current)}),!0)}({ownerDocument:d,container:n,containers:i,previousActiveElement:f},Boolean(8&u));let v=Oe(),m=c((()=>{let e=n.current;!e||g(v.current,{[Ce.Forwards]:()=>k(e,P.First),[Ce.Backwards]:()=>k(e,P.Last)})})),b={ref:a};return o().createElement(o().Fragment,null,Boolean(4&u)&&o().createElement(ne,{as:"button",type:"button",onFocus:m,features:te.Focusable}),K({ourProps:b,theirProps:s,defaultTag:"div",name:"FocusTrap"}),Boolean(4&u)&&o().createElement(ne,{as:"button",type:"button",onFocus:m,features:te.Focusable}))})),{features:Me}),$e=new Set,Be=new Map;function Ue(e){e.setAttribute("aria-hidden","true"),e.inert=!0}function He(e){let t=Be.get(e);!t||(null===t["aria-hidden"]?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",t["aria-hidden"]),e.inert=t.inert)}var je=n(2181);let Ge=(0,r.createContext)(!1);function _e(){return(0,r.useContext)(Ge)}function Ke(e){return o().createElement(Ge.Provider,{value:e.force},e.children)}let We=r.Fragment,qe=Q((function(e,t){let n=e,o=(0,r.useRef)(null),l=B($((e=>{o.current=e})),t),i=ke(o),u=function(e){let t=_e(),n=(0,r.useContext)(Ve),o=ke(e),[a,l]=(0,r.useState)((()=>{if(!t&&null!==n||"undefined"==typeof window)return null;let e=null==o?void 0:o.getElementById("headlessui-portal-root");if(e)return e;if(null===o)return null;let r=o.createElement("div");return r.setAttribute("id","headlessui-portal-root"),o.body.appendChild(r)}));return(0,r.useEffect)((()=>{null!==a&&(null!=o&&o.body.contains(a)||null==o||o.body.appendChild(a))}),[a,o]),(0,r.useEffect)((()=>{t||null!==n&&l(n.current)}),[n,l,t]),a}(o),[s]=(0,r.useState)((()=>{var e;return"undefined"==typeof window?null:null!=(e=null==i?void 0:i.createElement("div"))?e:null})),c=p(),d=(0,r.useRef)(!1);return a((()=>{if(d.current=!1,u&&s)return u.contains(s)||(s.setAttribute("data-headlessui-portal",""),u.appendChild(s)),()=>{d.current=!0,Le((()=>{var e;!d.current||!u||!s||(u.removeChild(s),u.childNodes.length<=0&&(null==(e=u.parentElement)||e.removeChild(u)))}))}}),[u,s]),c&&u&&s?(0,je.createPortal)(K({ourProps:{ref:l},theirProps:n,defaultTag:We,name:"Portal"}),s):null})),Qe=r.Fragment,Ve=(0,r.createContext)(null),ze=Q((function(e,t){let{target:n,...r}=e,a={ref:B(t)};return o().createElement(Ve.Provider,{value:n},K({ourProps:a,theirProps:r,defaultTag:Qe,name:"Popover.Group"}))})),Ye=Object.assign(qe,{Group:ze}),Je=(0,r.createContext)(null);function Xe(){let e=(0,r.useContext)(Je);if(null===e){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,Xe),e}return e}function Ze(){let[e,t]=(0,r.useState)([]);return[e.length>0?e.join(" "):void 0,(0,r.useMemo)((()=>function(e){let n=c((e=>(t((t=>[...t,e])),()=>t((t=>{let n=t.slice(),r=n.indexOf(e);return-1!==r&&n.splice(r,1),n}))))),a=(0,r.useMemo)((()=>({register:n,slot:e.slot,name:e.name,props:e.props})),[n,e.slot,e.name,e.props]);return o().createElement(Je.Provider,{value:a},e.children)}),[t])]}let et=Q((function(e,t){let n=Xe(),r=`headlessui-description-${b()}`,o=B(t);a((()=>n.register(r)),[r,n.register]);let l=e;return K({ourProps:{ref:o,...n.props,id:r},theirProps:l,slot:n.slot||{},defaultTag:"p",name:n.name||"Description"})})),tt=(0,r.createContext)((()=>{}));tt.displayName="StackContext";var nt=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(nt||{});function rt({children:e,onUpdate:t,type:n,element:l}){let i=(0,r.useContext)(tt),u=c(((...e)=>{null==t||t(...e),i(...e)}));return a((()=>(u(0,n,l),()=>u(1,n,l))),[u,n,l]),o().createElement(tt.Provider,{value:u},e)}var ot=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(ot||{}),at=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(at||{});let lt={0:(e,t)=>e.titleId===t.id?e:{...e,titleId:t.id}},it=(0,r.createContext)(null);function ut(e){let t=(0,r.useContext)(it);if(null===t){let t=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,ut),t}return t}function st(e,t){return g(t.type,lt,e,t)}it.displayName="DialogContext";let ct=G.RenderStrategy|G.Static,dt=Q((function(e,t){let{open:n,onClose:l,initialFocus:i,__demoMode:u=!1,...s}=e,[d,f]=(0,r.useState)(0),v=ae();void 0===n&&null!==v&&(n=g(v,{[oe.Open]:!0,[oe.Closed]:!1}));let m=(0,r.useRef)(new Set),x=(0,r.useRef)(null),y=B(x,t),R=(0,r.useRef)(null),P=ke(x),S=e.hasOwnProperty("open")||null!==v,E=e.hasOwnProperty("onClose");if(!S&&!E)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!S)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!E)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if("boolean"!=typeof n)throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${n}`);if("function"!=typeof l)throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${l}`);let I=n?0:1,[w,T]=(0,r.useReducer)(st,{titleId:null,descriptionId:null,panelRef:(0,r.createRef)()}),C=c((()=>l(!1))),O=c((e=>T({type:0,id:e}))),D=!!p()&&!u&&0===I,k=d>1,F=null!==(0,r.useContext)(it),A=k?"parent":"leaf";(function(e,t=!0){a((()=>{if(!t||!e.current)return;let n=e.current,r=h(n);if(r){$e.add(n);for(let e of Be.keys())e.contains(n)&&(He(e),Be.delete(e));return r.querySelectorAll("body > *").forEach((e=>{if(e instanceof HTMLElement){for(let t of $e)if(e.contains(t))return;1===$e.size&&(Be.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),Ue(e))}})),()=>{if($e.delete(n),$e.size>0)r.querySelectorAll("body > *").forEach((e=>{if(e instanceof HTMLElement&&!Be.has(e)){for(let t of $e)if(e.contains(t))return;Be.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),Ue(e)}}));else for(let e of Be.keys())He(e),Be.delete(e)}}}),[t])})(x,!!k&&D),L((()=>{var e,t;return[...Array.from(null!=(e=null==P?void 0:P.querySelectorAll("body > *, [data-headlessui-portal]"))?e:[]).filter((e=>!(!(e instanceof HTMLElement)||e.contains(R.current)||w.panelRef.current&&e.contains(w.panelRef.current)))),null!=(t=w.panelRef.current)?t:x.current]}),C,D&&!k),Fe(null==P?void 0:P.defaultView,"keydown",(e=>{e.defaultPrevented||e.key===ie.Escape&&0===I&&(k||(e.preventDefault(),e.stopPropagation(),C()))})),(0,r.useEffect)((()=>{var e;if(0!==I||F)return;let t=h(x);if(!t)return;let n=t.documentElement,r=null!=(e=t.defaultView)?e:window,o=n.style.overflow,a=n.style.paddingRight,l=r.innerWidth-n.clientWidth;if(n.style.overflow="hidden",l>0){let e=l-(n.clientWidth-n.offsetWidth);n.style.paddingRight=`${e}px`}return()=>{n.style.overflow=o,n.style.paddingRight=a}}),[I,F]),(0,r.useEffect)((()=>{if(0!==I||!x.current)return;let e=new IntersectionObserver((e=>{for(let t of e)0===t.boundingClientRect.x&&0===t.boundingClientRect.y&&0===t.boundingClientRect.width&&0===t.boundingClientRect.height&&C()}));return e.observe(x.current),()=>e.disconnect()}),[I,x,C]);let[M,N]=Ze(),$=`headlessui-dialog-${b()}`,U=(0,r.useMemo)((()=>[{dialogState:I,close:C,setTitleId:O},w]),[I,w,C,O]),H=(0,r.useMemo)((()=>({open:0===I})),[I]),j={ref:y,id:$,role:"dialog","aria-modal":0===I||void 0,"aria-labelledby":w.titleId,"aria-describedby":M};return o().createElement(rt,{type:"Dialog",element:x,onUpdate:c(((e,t,n)=>{"Dialog"===t&&g(e,{[nt.Add](){m.current.add(n),f((e=>e+1))},[nt.Remove](){m.current.add(n),f((e=>e-1))}})}))},o().createElement(Ke,{force:!0},o().createElement(Ye,null,o().createElement(it.Provider,{value:U},o().createElement(Ye.Group,{target:x},o().createElement(Ke,{force:!1},o().createElement(N,{slot:H,name:"Dialog.Description"},o().createElement(Ne,{initialFocus:i,containers:m,features:D?g(A,{parent:Ne.features.RestoreFocus,leaf:Ne.features.All&~Ne.features.FocusLock}):Ne.features.None},K({ourProps:j,theirProps:s,slot:H,defaultTag:"div",features:ct,visible:0===I,name:"Dialog"})))))))),o().createElement(ne,{features:te.Hidden,ref:R}))})),pt=Q((function(e,t){let[{dialogState:n,close:o}]=ut("Dialog.Overlay");return K({ourProps:{ref:B(t),id:`headlessui-dialog-overlay-${b()}`,"aria-hidden":!0,onClick:c((e=>{if(e.target===e.currentTarget){if(Y(e.currentTarget))return e.preventDefault();e.preventDefault(),e.stopPropagation(),o()}}))},theirProps:e,slot:(0,r.useMemo)((()=>({open:0===n})),[n]),defaultTag:"div",name:"Dialog.Overlay"})})),ft=Q((function(e,t){let[{dialogState:n},a]=ut("Dialog.Backdrop"),l=B(t),i=`headlessui-dialog-backdrop-${b()}`;(0,r.useEffect)((()=>{if(null===a.panelRef.current)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")}),[a.panelRef]);let u=(0,r.useMemo)((()=>({open:0===n})),[n]);return o().createElement(Ke,{force:!0},o().createElement(Ye,null,K({ourProps:{ref:l,id:i,"aria-hidden":!0},theirProps:e,slot:u,defaultTag:"div",name:"Dialog.Backdrop"})))})),vt=Q((function(e,t){let[{dialogState:n},o]=ut("Dialog.Panel"),a=B(t,o.panelRef),l=`headlessui-dialog-panel-${b()}`,i=(0,r.useMemo)((()=>({open:0===n})),[n]);return K({ourProps:{ref:a,id:l,onClick:c((e=>{e.stopPropagation()}))},theirProps:e,slot:i,defaultTag:"div",name:"Dialog.Panel"})})),mt=Q((function(e,t){let[{dialogState:n,setTitleId:o}]=ut("Dialog.Title"),a=`headlessui-dialog-title-${b()}`,l=B(t);(0,r.useEffect)((()=>(o(a),()=>o(null))),[a,o]);let i=(0,r.useMemo)((()=>({open:0===n})),[n]);return K({ourProps:{ref:l,id:a},theirProps:e,slot:i,defaultTag:"h2",name:"Dialog.Title"})})),bt=Object.assign(dt,{Backdrop:ft,Panel:vt,Overlay:pt,Title:mt,Description:et});var gt=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(gt||{}),ht=(e=>(e[e.ToggleDisclosure=0]="ToggleDisclosure",e[e.CloseDisclosure=1]="CloseDisclosure",e[e.SetButtonId=2]="SetButtonId",e[e.SetPanelId=3]="SetPanelId",e[e.LinkPanel=4]="LinkPanel",e[e.UnlinkPanel=5]="UnlinkPanel",e))(ht||{});let xt={0:e=>({...e,disclosureState:g(e.disclosureState,{0:1,1:0})}),1:e=>1===e.disclosureState?e:{...e,disclosureState:1},4:e=>!0===e.linkedPanel?e:{...e,linkedPanel:!0},5:e=>!1===e.linkedPanel?e:{...e,linkedPanel:!1},2:(e,t)=>e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId},3:(e,t)=>e.panelId===t.panelId?e:{...e,panelId:t.panelId}},yt=(0,r.createContext)(null);function Rt(e){let t=(0,r.useContext)(yt);if(null===t){let t=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Rt),t}return t}yt.displayName="DisclosureContext";let Pt=(0,r.createContext)(null);function St(e){let t=(0,r.useContext)(Pt);if(null===t){let t=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,St),t}return t}Pt.displayName="DisclosureAPIContext";let Et=(0,r.createContext)(null);function It(e,t){return g(t.type,xt,e,t)}Et.displayName="DisclosurePanelContext";let wt=r.Fragment,Tt=Q((function(e,t){let{defaultOpen:n=!1,...a}=e,l=`headlessui-disclosure-button-${b()}`,i=`headlessui-disclosure-panel-${b()}`,u=(0,r.useRef)(null),s=B(t,$((e=>{u.current=e}),void 0===e.as||e.as===o().Fragment)),d=(0,r.useRef)(null),p=(0,r.useRef)(null),f=(0,r.useReducer)(It,{disclosureState:n?0:1,linkedPanel:!1,buttonRef:p,panelRef:d,buttonId:l,panelId:i}),[{disclosureState:v},m]=f;(0,r.useEffect)((()=>m({type:2,buttonId:l})),[l,m]),(0,r.useEffect)((()=>m({type:3,panelId:i})),[i,m]);let x=c((e=>{m({type:1});let t=h(u);if(!t)return;let n=e?e instanceof HTMLElement?e:e.current instanceof HTMLElement?e.current:t.getElementById(l):t.getElementById(l);null==n||n.focus()})),y=(0,r.useMemo)((()=>({close:x})),[x]),R=(0,r.useMemo)((()=>({open:0===v,close:x})),[v,x]),P={ref:s};return o().createElement(yt.Provider,{value:f},o().createElement(Pt.Provider,{value:y},o().createElement(le,{value:g(v,{0:oe.Open,1:oe.Closed})},K({ourProps:P,theirProps:a,slot:R,defaultTag:wt,name:"Disclosure"}))))})),Ct=Q((function(e,t){let[n,o]=Rt("Disclosure.Button"),a=(0,r.useContext)(Et),l=null!==a&&a===n.panelId,i=(0,r.useRef)(null),u=B(i,t,l?null:n.buttonRef),s=c((e=>{var t;if(l){if(1===n.disclosureState)return;switch(e.key){case ie.Space:case ie.Enter:e.preventDefault(),e.stopPropagation(),o({type:0}),null==(t=n.buttonRef.current)||t.focus()}}else switch(e.key){case ie.Space:case ie.Enter:e.preventDefault(),e.stopPropagation(),o({type:0})}})),d=c((e=>{e.key===ie.Space&&e.preventDefault()})),p=c((t=>{var r;Y(t.currentTarget)||e.disabled||(l?(o({type:0}),null==(r=n.buttonRef.current)||r.focus()):o({type:0}))})),f=(0,r.useMemo)((()=>({open:0===n.disclosureState})),[n]),v=M(e,i),m=e;return K({ourProps:l?{ref:u,type:v,onKeyDown:s,onClick:p}:{ref:u,id:n.buttonId,type:v,"aria-expanded":e.disabled?void 0:0===n.disclosureState,"aria-controls":n.linkedPanel?n.panelId:void 0,onKeyDown:s,onKeyUp:d,onClick:p},theirProps:m,slot:f,defaultTag:"button",name:"Disclosure.Button"})})),Ot=G.RenderStrategy|G.Static,Dt=Q((function(e,t){let[n,a]=Rt("Disclosure.Panel"),{close:l}=St("Disclosure.Panel"),i=B(t,n.panelRef,(()=>{n.linkedPanel||a({type:4})})),u=ae(),s=null!==u?u===oe.Open:0===n.disclosureState;(0,r.useEffect)((()=>()=>a({type:5})),[a]),(0,r.useEffect)((()=>{var t;1===n.disclosureState&&(null==(t=e.unmount)||t)&&a({type:5})}),[n.disclosureState,e.unmount,a]);let c=(0,r.useMemo)((()=>({open:0===n.disclosureState,close:l})),[n,l]),d=e,p={ref:i,id:n.panelId};return o().createElement(Et.Provider,{value:n.panelId},K({ourProps:p,theirProps:d,slot:c,defaultTag:"div",features:Ot,visible:s,name:"Disclosure.Panel"}))})),kt=Object.assign(Tt,{Button:Ct,Panel:Dt});var Ft=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Ft||{}),Lt=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(Lt||{}),At=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(At||{}),Mt=(e=>(e[e.OpenListbox=0]="OpenListbox",e[e.CloseListbox=1]="CloseListbox",e[e.SetDisabled=2]="SetDisabled",e[e.SetOrientation=3]="SetOrientation",e[e.GoToOption=4]="GoToOption",e[e.Search=5]="Search",e[e.ClearSearch=6]="ClearSearch",e[e.RegisterOption=7]="RegisterOption",e[e.UnregisterOption=8]="UnregisterOption",e))(Mt||{});function Nt(e,t=(e=>e)){let n=null!==e.activeOptionIndex?e.options[e.activeOptionIndex]:null,r=D(t(e.options.slice()),(e=>e.dataRef.current.domRef.current)),o=n?r.indexOf(n):null;return-1===o&&(o=null),{options:r,activeOptionIndex:o}}let $t={1:e=>e.disabled||1===e.listboxState?e:{...e,activeOptionIndex:null,listboxState:1},0(e){if(e.disabled||0===e.listboxState)return e;let t=e.activeOptionIndex,{value:n,mode:r,compare:o}=e.propsRef.current,a=e.options.findIndex((e=>{let t=e.dataRef.current.value;return g(r,{1:()=>n.some((e=>o(e,t))),0:()=>o(n,t)})}));return-1!==a&&(t=a),{...e,listboxState:0,activeOptionIndex:t}},2:(e,t)=>e.disabled===t.disabled?e:{...e,disabled:t.disabled},3:(e,t)=>e.orientation===t.orientation?e:{...e,orientation:t.orientation},4(e,t){var n;if(e.disabled||1===e.listboxState)return e;let r=Nt(e),o=j(t,{resolveItems:()=>r.options,resolveActiveIndex:()=>r.activeOptionIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});return{...e,...r,searchQuery:"",activeOptionIndex:o,activationTrigger:null!=(n=t.trigger)?n:1}},5:(e,t)=>{if(e.disabled||1===e.listboxState)return e;let n=""!==e.searchQuery?0:1,r=e.searchQuery+t.value.toLowerCase(),o=(null!==e.activeOptionIndex?e.options.slice(e.activeOptionIndex+n).concat(e.options.slice(0,e.activeOptionIndex+n)):e.options).find((e=>{var t;return!e.dataRef.current.disabled&&(null==(t=e.dataRef.current.textValue)?void 0:t.startsWith(r))})),a=o?e.options.indexOf(o):-1;return-1===a||a===e.activeOptionIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeOptionIndex:a,activationTrigger:1}},6:e=>e.disabled||1===e.listboxState||""===e.searchQuery?e:{...e,searchQuery:""},7:(e,t)=>{let n={id:t.id,dataRef:t.dataRef},r=Nt(e,(e=>[...e,n]));if(null===e.activeOptionIndex){let{value:o,mode:a,compare:l}=e.propsRef.current,i=t.dataRef.current.value;g(a,{1:()=>o.some((e=>l(e,i))),0:()=>l(o,i)})&&(r.activeOptionIndex=r.options.indexOf(n))}return{...e,...r}},8:(e,t)=>{let n=Nt(e,(e=>{let n=e.findIndex((e=>e.id===t.id));return-1!==n&&e.splice(n,1),e}));return{...e,...n,activationTrigger:1}}},Bt=(0,r.createContext)(null);function Ut(e){let t=(0,r.useContext)(Bt);if(null===t){let t=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Ut),t}return t}function Ht(e,t){return g(t.type,$t,e,t)}Bt.displayName="ListboxContext";let jt=r.Fragment,Gt=Q((function(e,t){let{value:n,name:l,onChange:i,disabled:u=!1,horizontal:s=!1,multiple:d=!1,...p}=e;const f=s?"horizontal":"vertical";let v=B(t),m=(0,r.useReducer)(Ht,{listboxState:1,propsRef:{current:{value:n,onChange:i,mode:d?1:0,compare:c(((e,t)=>e===t))}},labelRef:(0,r.createRef)(),buttonRef:(0,r.createRef)(),optionsRef:(0,r.createRef)(),disabled:u,orientation:f,options:[],searchQuery:"",activeOptionIndex:null,activationTrigger:1}),[{listboxState:b,propsRef:h,optionsRef:x,buttonRef:y},R]=m;h.current.value=n,h.current.mode=d?1:0,a((()=>{h.current.onChange=e=>g(h.current.mode,{0:()=>i(e),1(){let t=h.current.value.slice(),n=t.indexOf(e);return-1===n?t.push(e):t.splice(n,1),i(t)}})}),[i,h]),a((()=>R({type:2,disabled:u})),[u]),a((()=>R({type:3,orientation:f})),[f]),L([y,x],((e,t)=>{var n;R({type:1}),T(t,w.Loose)||(e.preventDefault(),null==(n=y.current)||n.focus())}),0===b);let P=(0,r.useMemo)((()=>({open:0===b,disabled:u})),[b,u]),S={ref:v};return o().createElement(Bt.Provider,{value:m},o().createElement(le,{value:g(b,{0:oe.Open,1:oe.Closed})},null!=l&&null!=n&&J({[l]:n}).map((([e,t])=>o().createElement(ne,{features:te.Hidden,...V({key:e,as:"input",type:"hidden",hidden:!0,readOnly:!0,name:e,value:t})}))),K({ourProps:S,theirProps:p,slot:P,defaultTag:jt,name:"Listbox"})))})),_t=Q((function(e,t){var n;let[o,a]=Ut("Listbox.Button"),l=B(o.buttonRef,t),u=`headlessui-listbox-button-${b()}`,d=s(),p=c((e=>{switch(e.key){case ie.Space:case ie.Enter:case ie.ArrowDown:e.preventDefault(),a({type:0}),d.nextFrame((()=>{o.propsRef.current.value||a({type:4,focus:H.First})}));break;case ie.ArrowUp:e.preventDefault(),a({type:0}),d.nextFrame((()=>{o.propsRef.current.value||a({type:4,focus:H.Last})}))}})),f=c((e=>{e.key===ie.Space&&e.preventDefault()})),v=c((e=>{if(Y(e.currentTarget))return e.preventDefault();0===o.listboxState?(a({type:1}),d.nextFrame((()=>{var e;return null==(e=o.buttonRef.current)?void 0:e.focus({preventScroll:!0})}))):(e.preventDefault(),a({type:0}))})),m=i((()=>{if(o.labelRef.current)return[o.labelRef.current.id,u].join(" ")}),[o.labelRef.current,u]),g=(0,r.useMemo)((()=>({open:0===o.listboxState,disabled:o.disabled})),[o]),h=e;return K({ourProps:{ref:l,id:u,type:M(e,o.buttonRef),"aria-haspopup":!0,"aria-controls":null==(n=o.optionsRef.current)?void 0:n.id,"aria-expanded":o.disabled?void 0:0===o.listboxState,"aria-labelledby":m,disabled:o.disabled,onKeyDown:p,onKeyUp:f,onClick:v},theirProps:h,slot:g,defaultTag:"button",name:"Listbox.Button"})})),Kt=Q((function(e,t){let[n]=Ut("Listbox.Label"),o=`headlessui-listbox-label-${b()}`,a=B(n.labelRef,t),l=c((()=>{var e;return null==(e=n.buttonRef.current)?void 0:e.focus({preventScroll:!0})}));return K({ourProps:{ref:a,id:o,onClick:l},theirProps:e,slot:(0,r.useMemo)((()=>({open:0===n.listboxState,disabled:n.disabled})),[n]),defaultTag:"label",name:"Listbox.Label"})})),Wt=G.RenderStrategy|G.Static,qt=Q((function(e,t){var n;let[o,a]=Ut("Listbox.Options"),l=B(o.optionsRef,t),d=`headlessui-listbox-options-${b()}`,p=s(),f=s(),v=ae(),m=null!==v?v===oe.Open:0===o.listboxState;(0,r.useEffect)((()=>{var e;let t=o.optionsRef.current;!t||0===o.listboxState&&t!==(null==(e=h(t))?void 0:e.activeElement)&&t.focus({preventScroll:!0})}),[o.listboxState,o.optionsRef]);let x=c((e=>{switch(f.dispose(),e.key){case ie.Space:if(""!==o.searchQuery)return e.preventDefault(),e.stopPropagation(),a({type:5,value:e.key});case ie.Enter:if(e.preventDefault(),e.stopPropagation(),null!==o.activeOptionIndex){let{dataRef:e}=o.options[o.activeOptionIndex];o.propsRef.current.onChange(e.current.value)}0===o.propsRef.current.mode&&(a({type:1}),u().nextFrame((()=>{var e;return null==(e=o.buttonRef.current)?void 0:e.focus({preventScroll:!0})})));break;case g(o.orientation,{vertical:ie.ArrowDown,horizontal:ie.ArrowRight}):return e.preventDefault(),e.stopPropagation(),a({type:4,focus:H.Next});case g(o.orientation,{vertical:ie.ArrowUp,horizontal:ie.ArrowLeft}):return e.preventDefault(),e.stopPropagation(),a({type:4,focus:H.Previous});case ie.Home:case ie.PageUp:return e.preventDefault(),e.stopPropagation(),a({type:4,focus:H.First});case ie.End:case ie.PageDown:return e.preventDefault(),e.stopPropagation(),a({type:4,focus:H.Last});case ie.Escape:return e.preventDefault(),e.stopPropagation(),a({type:1}),p.nextFrame((()=>{var e;return null==(e=o.buttonRef.current)?void 0:e.focus({preventScroll:!0})}));case ie.Tab:e.preventDefault(),e.stopPropagation();break;default:1===e.key.length&&(a({type:5,value:e.key}),f.setTimeout((()=>a({type:6})),350))}})),y=i((()=>{var e,t,n;return null!=(n=null==(e=o.labelRef.current)?void 0:e.id)?n:null==(t=o.buttonRef.current)?void 0:t.id}),[o.labelRef.current,o.buttonRef.current]),R=(0,r.useMemo)((()=>({open:0===o.listboxState})),[o]),P=e;return K({ourProps:{"aria-activedescendant":null===o.activeOptionIndex||null==(n=o.options[o.activeOptionIndex])?void 0:n.id,"aria-multiselectable":1===o.propsRef.current.mode||void 0,"aria-labelledby":y,"aria-orientation":o.orientation,id:d,onKeyDown:x,role:"listbox",tabIndex:0,ref:l},theirProps:P,slot:R,defaultTag:"ul",features:Wt,visible:m,name:"Listbox.Options"})})),Qt=Q((function(e,t){let{disabled:n=!1,value:o,...l}=e,[i,s]=Ut("Listbox.Option"),d=`headlessui-listbox-option-${b()}`,p=null!==i.activeOptionIndex&&i.options[i.activeOptionIndex].id===d,{value:f,compare:v}=i.propsRef.current,m=g(i.propsRef.current.mode,{1:()=>f.some((e=>v(e,o))),0:()=>v(f,o)}),h=(0,r.useRef)(null),x=B(t,h);a((()=>{if(0!==i.listboxState||!p||0===i.activationTrigger)return;let e=u();return e.requestAnimationFrame((()=>{var e,t;null==(t=null==(e=h.current)?void 0:e.scrollIntoView)||t.call(e,{block:"nearest"})})),e.dispose}),[h,p,i.listboxState,i.activationTrigger,i.activeOptionIndex]);let y=(0,r.useRef)({disabled:n,value:o,domRef:h});a((()=>{y.current.disabled=n}),[y,n]),a((()=>{y.current.value=o}),[y,o]),a((()=>{var e,t;y.current.textValue=null==(t=null==(e=h.current)?void 0:e.textContent)?void 0:t.toLowerCase()}),[y,h]);let R=c((()=>i.propsRef.current.onChange(o)));a((()=>(s({type:7,id:d,dataRef:y}),()=>s({type:8,id:d}))),[y,d]);let P=c((e=>{if(n)return e.preventDefault();R(),0===i.propsRef.current.mode&&(s({type:1}),u().nextFrame((()=>{var e;return null==(e=i.buttonRef.current)?void 0:e.focus({preventScroll:!0})})))})),S=c((()=>{if(n)return s({type:4,focus:H.Nothing});s({type:4,focus:H.Specific,id:d})})),E=c((()=>{n||p||s({type:4,focus:H.Specific,id:d,trigger:0})})),I=c((()=>{n||!p||s({type:4,focus:H.Nothing})})),w=(0,r.useMemo)((()=>({active:p,selected:m,disabled:n})),[p,m,n]);return K({ourProps:{id:d,ref:x,role:"option",tabIndex:!0===n?void 0:-1,"aria-disabled":!0===n||void 0,"aria-selected":!0===m||void 0,disabled:void 0,onClick:P,onFocus:S,onPointerMove:E,onMouseMove:E,onPointerLeave:I,onMouseLeave:I},theirProps:l,slot:w,defaultTag:"li",name:"Listbox.Option"})})),Vt=Object.assign(Gt,{Button:_t,Label:Kt,Options:qt,Option:Qt});var zt,Yt=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Yt||{}),Jt=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Jt||{}),Xt=((zt=Xt||{})[zt.OpenMenu=0]="OpenMenu",zt[zt.CloseMenu=1]="CloseMenu",zt[zt.GoToItem=2]="GoToItem",zt[zt.Search=3]="Search",zt[zt.ClearSearch=4]="ClearSearch",zt[zt.RegisterItem=5]="RegisterItem",zt[zt.UnregisterItem=6]="UnregisterItem",zt);function Zt(e,t=(e=>e)){let n=null!==e.activeItemIndex?e.items[e.activeItemIndex]:null,r=D(t(e.items.slice()),(e=>e.dataRef.current.domRef.current)),o=n?r.indexOf(n):null;return-1===o&&(o=null),{items:r,activeItemIndex:o}}let en={1:e=>1===e.menuState?e:{...e,activeItemIndex:null,menuState:1},0:e=>0===e.menuState?e:{...e,menuState:0},2:(e,t)=>{var n;let r=Zt(e),o=j(t,{resolveItems:()=>r.items,resolveActiveIndex:()=>r.activeItemIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});return{...e,...r,searchQuery:"",activeItemIndex:o,activationTrigger:null!=(n=t.trigger)?n:1}},3:(e,t)=>{let n=""!==e.searchQuery?0:1,r=e.searchQuery+t.value.toLowerCase(),o=(null!==e.activeItemIndex?e.items.slice(e.activeItemIndex+n).concat(e.items.slice(0,e.activeItemIndex+n)):e.items).find((e=>{var t;return(null==(t=e.dataRef.current.textValue)?void 0:t.startsWith(r))&&!e.dataRef.current.disabled})),a=o?e.items.indexOf(o):-1;return-1===a||a===e.activeItemIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeItemIndex:a,activationTrigger:1}},4:e=>""===e.searchQuery?e:{...e,searchQuery:"",searchActiveItemIndex:null},5:(e,t)=>{let n=Zt(e,(e=>[...e,{id:t.id,dataRef:t.dataRef}]));return{...e,...n}},6:(e,t)=>{let n=Zt(e,(e=>{let n=e.findIndex((e=>e.id===t.id));return-1!==n&&e.splice(n,1),e}));return{...e,...n,activationTrigger:1}}},tn=(0,r.createContext)(null);function nn(e){let t=(0,r.useContext)(tn);if(null===t){let t=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,nn),t}return t}function rn(e,t){return g(t.type,en,e,t)}tn.displayName="MenuContext";let on=r.Fragment,an=Q((function(e,t){let n=(0,r.useReducer)(rn,{menuState:1,buttonRef:(0,r.createRef)(),itemsRef:(0,r.createRef)(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:a,itemsRef:l,buttonRef:i},u]=n,s=B(t);L([i,l],((e,t)=>{var n;u({type:1}),T(t,w.Loose)||(e.preventDefault(),null==(n=i.current)||n.focus())}),0===a);let c=(0,r.useMemo)((()=>({open:0===a})),[a]),d=e,p={ref:s};return o().createElement(tn.Provider,{value:n},o().createElement(le,{value:g(a,{0:oe.Open,1:oe.Closed})},K({ourProps:p,theirProps:d,slot:c,defaultTag:on,name:"Menu"})))})),ln=Q((function(e,t){var n;let[o,a]=nn("Menu.Button"),l=B(o.buttonRef,t),i=`headlessui-menu-button-${b()}`,u=s(),d=c((e=>{switch(e.key){case ie.Space:case ie.Enter:case ie.ArrowDown:e.preventDefault(),e.stopPropagation(),a({type:0}),u.nextFrame((()=>a({type:2,focus:H.First})));break;case ie.ArrowUp:e.preventDefault(),e.stopPropagation(),a({type:0}),u.nextFrame((()=>a({type:2,focus:H.Last})))}})),p=c((e=>{e.key===ie.Space&&e.preventDefault()})),f=c((t=>{if(Y(t.currentTarget))return t.preventDefault();e.disabled||(0===o.menuState?(a({type:1}),u.nextFrame((()=>{var e;return null==(e=o.buttonRef.current)?void 0:e.focus({preventScroll:!0})}))):(t.preventDefault(),a({type:0})))})),v=(0,r.useMemo)((()=>({open:0===o.menuState})),[o]),m=e;return K({ourProps:{ref:l,id:i,type:M(e,o.buttonRef),"aria-haspopup":!0,"aria-controls":null==(n=o.itemsRef.current)?void 0:n.id,"aria-expanded":e.disabled?void 0:0===o.menuState,onKeyDown:d,onKeyUp:p,onClick:f},theirProps:m,slot:v,defaultTag:"button",name:"Menu.Button"})})),un=G.RenderStrategy|G.Static,sn=Q((function(e,t){var n,o;let[a,l]=nn("Menu.Items"),i=B(a.itemsRef,t),d=ke(a.itemsRef),p=`headlessui-menu-items-${b()}`,f=s(),v=ae(),m=null!==v?v===oe.Open:0===a.menuState;(0,r.useEffect)((()=>{let e=a.itemsRef.current;!e||0===a.menuState&&e!==(null==d?void 0:d.activeElement)&&e.focus({preventScroll:!0})}),[a.menuState,a.itemsRef,d]),U({container:a.itemsRef.current,enabled:0===a.menuState,accept:e=>"menuitem"===e.getAttribute("role")?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT,walk(e){e.setAttribute("role","none")}});let g=c((e=>{var t,n;switch(f.dispose(),e.key){case ie.Space:if(""!==a.searchQuery)return e.preventDefault(),e.stopPropagation(),l({type:3,value:e.key});case ie.Enter:if(e.preventDefault(),e.stopPropagation(),l({type:1}),null!==a.activeItemIndex){let{dataRef:e}=a.items[a.activeItemIndex];null==(n=null==(t=e.current)?void 0:t.domRef.current)||n.click()}u().nextFrame((()=>{var e;return null==(e=a.buttonRef.current)?void 0:e.focus({preventScroll:!0})}));break;case ie.ArrowDown:return e.preventDefault(),e.stopPropagation(),l({type:2,focus:H.Next});case ie.ArrowUp:return e.preventDefault(),e.stopPropagation(),l({type:2,focus:H.Previous});case ie.Home:case ie.PageUp:return e.preventDefault(),e.stopPropagation(),l({type:2,focus:H.First});case ie.End:case ie.PageDown:return e.preventDefault(),e.stopPropagation(),l({type:2,focus:H.Last});case ie.Escape:e.preventDefault(),e.stopPropagation(),l({type:1}),u().nextFrame((()=>{var e;return null==(e=a.buttonRef.current)?void 0:e.focus({preventScroll:!0})}));break;case ie.Tab:e.preventDefault(),e.stopPropagation();break;default:1===e.key.length&&(l({type:3,value:e.key}),f.setTimeout((()=>l({type:4})),350))}})),h=c((e=>{e.key===ie.Space&&e.preventDefault()})),x=(0,r.useMemo)((()=>({open:0===a.menuState})),[a]),y=e;return K({ourProps:{"aria-activedescendant":null===a.activeItemIndex||null==(n=a.items[a.activeItemIndex])?void 0:n.id,"aria-labelledby":null==(o=a.buttonRef.current)?void 0:o.id,id:p,onKeyDown:g,onKeyUp:h,role:"menu",tabIndex:0,ref:i},theirProps:y,slot:x,defaultTag:"div",features:un,visible:m,name:"Menu.Items"})})),cn=r.Fragment,dn=Q((function(e,t){let{disabled:n=!1,...o}=e,[l,i]=nn("Menu.Item"),s=`headlessui-menu-item-${b()}`,d=null!==l.activeItemIndex&&l.items[l.activeItemIndex].id===s,p=(0,r.useRef)(null),f=B(t,p);a((()=>{if(0!==l.menuState||!d||0===l.activationTrigger)return;let e=u();return e.requestAnimationFrame((()=>{var e,t;null==(t=null==(e=p.current)?void 0:e.scrollIntoView)||t.call(e,{block:"nearest"})})),e.dispose}),[p,d,l.menuState,l.activationTrigger,l.activeItemIndex]);let v=(0,r.useRef)({disabled:n,domRef:p});a((()=>{v.current.disabled=n}),[v,n]),a((()=>{var e,t;v.current.textValue=null==(t=null==(e=p.current)?void 0:e.textContent)?void 0:t.toLowerCase()}),[v,p]),a((()=>(i({type:5,id:s,dataRef:v}),()=>i({type:6,id:s}))),[v,s]);let m=c((e=>{if(n)return e.preventDefault();i({type:1}),u().nextFrame((()=>{var e;return null==(e=l.buttonRef.current)?void 0:e.focus({preventScroll:!0})}))})),g=c((()=>{if(n)return i({type:2,focus:H.Nothing});i({type:2,focus:H.Specific,id:s})})),h=c((()=>{n||d||i({type:2,focus:H.Specific,id:s,trigger:0})})),x=c((()=>{n||!d||i({type:2,focus:H.Nothing})})),y=(0,r.useMemo)((()=>({active:d,disabled:n})),[d,n]);return K({ourProps:{id:s,ref:f,role:"menuitem",tabIndex:!0===n?void 0:-1,"aria-disabled":!0===n||void 0,disabled:void 0,onClick:m,onFocus:g,onPointerMove:h,onMouseMove:h,onPointerLeave:x,onMouseLeave:x},theirProps:o,slot:y,defaultTag:cn,name:"Menu.Item"})})),pn=Object.assign(an,{Button:ln,Items:sn,Item:dn});var fn=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(fn||{}),vn=(e=>(e[e.TogglePopover=0]="TogglePopover",e[e.ClosePopover=1]="ClosePopover",e[e.SetButton=2]="SetButton",e[e.SetButtonId=3]="SetButtonId",e[e.SetPanel=4]="SetPanel",e[e.SetPanelId=5]="SetPanelId",e))(vn||{});let mn={0:e=>({...e,popoverState:g(e.popoverState,{0:1,1:0})}),1:e=>1===e.popoverState?e:{...e,popoverState:1},2:(e,t)=>e.button===t.button?e:{...e,button:t.button},3:(e,t)=>e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId},4:(e,t)=>e.panel===t.panel?e:{...e,panel:t.panel},5:(e,t)=>e.panelId===t.panelId?e:{...e,panelId:t.panelId}},bn=(0,r.createContext)(null);function gn(e){let t=(0,r.useContext)(bn);if(null===t){let t=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,gn),t}return t}bn.displayName="PopoverContext";let hn=(0,r.createContext)(null);function xn(e){let t=(0,r.useContext)(hn);if(null===t){let t=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,xn),t}return t}hn.displayName="PopoverAPIContext";let yn=(0,r.createContext)(null);function Rn(){return(0,r.useContext)(yn)}yn.displayName="PopoverGroupContext";let Pn=(0,r.createContext)(null);function Sn(e,t){return g(t.type,mn,e,t)}Pn.displayName="PopoverPanelContext";let En=Q((function(e,t){var n;let a=`headlessui-popover-button-${b()}`,l=`headlessui-popover-panel-${b()}`,i=(0,r.useRef)(null),u=B(t,$((e=>{i.current=e}))),s=(0,r.useReducer)(Sn,{popoverState:1,button:null,buttonId:a,panel:null,panelId:l,beforePanelSentinel:(0,r.createRef)(),afterPanelSentinel:(0,r.createRef)()}),[{popoverState:d,button:p,panel:f,beforePanelSentinel:v,afterPanelSentinel:m},h]=s,x=ke(null!=(n=i.current)?n:p);(0,r.useEffect)((()=>h({type:3,buttonId:a})),[a,h]),(0,r.useEffect)((()=>h({type:5,panelId:l})),[l,h]);let y=(0,r.useMemo)((()=>{if(!p||!f)return!1;for(let e of document.querySelectorAll("body > *"))if(Number(null==e?void 0:e.contains(p))^Number(null==e?void 0:e.contains(f)))return!0;return!1}),[p,f]),R=(0,r.useMemo)((()=>({buttonId:a,panelId:l,close:()=>h({type:1})})),[a,l,h]),P=Rn(),S=null==P?void 0:P.registerPopover,E=c((()=>{var e;return null!=(e=null==P?void 0:P.isFocusWithinPopoverGroup())?e:(null==x?void 0:x.activeElement)&&((null==p?void 0:p.contains(x.activeElement))||(null==f?void 0:f.contains(x.activeElement)))}));(0,r.useEffect)((()=>null==S?void 0:S(R)),[S,R]),Fe(null==x?void 0:x.defaultView,"focus",(e=>{var t,n,r,o;0===d&&(E()||!p||!f||null!=(n=null==(t=v.current)?void 0:t.contains)&&n.call(t,e.target)||null!=(o=null==(r=m.current)?void 0:r.contains)&&o.call(r,e.target)||h({type:1}))}),!0),L([p,f],((e,t)=>{h({type:1}),T(t,w.Loose)||(e.preventDefault(),null==p||p.focus())}),0===d);let I=c((e=>{h({type:1});let t=e?e instanceof HTMLElement?e:e.current instanceof HTMLElement?e.current:p:p;null==t||t.focus()})),C=(0,r.useMemo)((()=>({close:I,isPortalled:y})),[I,y]),O=(0,r.useMemo)((()=>({open:0===d,close:I})),[d,I]),D=e,k={ref:u};return o().createElement(bn.Provider,{value:s},o().createElement(hn.Provider,{value:C},o().createElement(le,{value:g(d,{0:oe.Open,1:oe.Closed})},K({ourProps:k,theirProps:D,slot:O,defaultTag:"div",name:"Popover"}))))})),In=Q((function(e,t){let[n,a]=gn("Popover.Button"),{isPortalled:l}=xn("Popover.Button"),i=(0,r.useRef)(null),u=`headlessui-focus-sentinel-${b()}`,s=Rn(),d=null==s?void 0:s.closeOthers,p=(0,r.useContext)(Pn),f=null!==p&&p===n.panelId,v=B(i,t,f?null:e=>a({type:2,button:e})),m=B(i,t),h=ke(i),x=c((e=>{var t,r,o;if(f){if(1===n.popoverState)return;switch(e.key){case ie.Space:case ie.Enter:e.preventDefault(),null==(r=(t=e.target).click)||r.call(t),a({type:1}),null==(o=n.button)||o.focus()}}else switch(e.key){case ie.Space:case ie.Enter:e.preventDefault(),e.stopPropagation(),1===n.popoverState&&(null==d||d(n.buttonId)),a({type:0});break;case ie.Escape:if(0!==n.popoverState)return null==d?void 0:d(n.buttonId);if(!i.current||(null==h?void 0:h.activeElement)&&!i.current.contains(h.activeElement))return;e.preventDefault(),e.stopPropagation(),a({type:1})}})),y=c((e=>{f||e.key===ie.Space&&e.preventDefault()})),R=c((t=>{var r,o;Y(t.currentTarget)||e.disabled||(f?(a({type:1}),null==(r=n.button)||r.focus()):(t.preventDefault(),t.stopPropagation(),1===n.popoverState&&(null==d||d(n.buttonId)),a({type:0}),null==(o=n.button)||o.focus()))})),S=c((e=>{e.preventDefault(),e.stopPropagation()})),E=0===n.popoverState,I=(0,r.useMemo)((()=>({open:E})),[E]),w=M(e,i),T=e,C=f?{ref:m,type:w,onKeyDown:x,onClick:R}:{ref:v,id:n.buttonId,type:w,"aria-expanded":e.disabled?void 0:0===n.popoverState,"aria-controls":n.panel?n.panelId:void 0,onKeyDown:x,onKeyUp:y,onClick:R,onMouseDown:S},O=Oe(),D=c((()=>{let e=n.panel;e&&g(O.current,{[Ce.Forwards]:()=>k(e,P.First),[Ce.Backwards]:()=>k(e,P.Last)})}));return o().createElement(o().Fragment,null,K({ourProps:C,theirProps:T,slot:I,defaultTag:"button",name:"Popover.Button"}),E&&!f&&l&&o().createElement(ne,{id:u,features:te.Focusable,as:"button",type:"button",onFocus:D}))})),wn=G.RenderStrategy|G.Static,Tn=Q((function(e,t){let[{popoverState:n},o]=gn("Popover.Overlay"),a=B(t),l=`headlessui-popover-overlay-${b()}`,i=ae(),u=null!==i?i===oe.Open:0===n,s=c((e=>{if(Y(e.currentTarget))return e.preventDefault();o({type:1})}));return K({ourProps:{ref:a,id:l,"aria-hidden":!0,onClick:s},theirProps:e,slot:(0,r.useMemo)((()=>({open:0===n})),[n]),defaultTag:"div",features:wn,visible:u,name:"Popover.Overlay"})})),Cn=G.RenderStrategy|G.Static,On=Q((function(e,t){let{focus:n=!1,...a}=e,[l,i]=gn("Popover.Panel"),{close:u,isPortalled:s}=xn("Popover.Panel"),d=`headlessui-focus-sentinel-before-${b()}`,p=`headlessui-focus-sentinel-after-${b()}`,f=(0,r.useRef)(null),v=B(f,t,(e=>{i({type:4,panel:e})})),m=ke(f),h=ae(),x=null!==h?h===oe.Open:0===l.popoverState,y=c((e=>{var t;if(e.key===ie.Escape){if(0!==l.popoverState||!f.current||(null==m?void 0:m.activeElement)&&!f.current.contains(m.activeElement))return;e.preventDefault(),e.stopPropagation(),i({type:1}),null==(t=l.button)||t.focus()}}));(0,r.useEffect)((()=>{var t;e.static||1===l.popoverState&&(null==(t=e.unmount)||t)&&i({type:4,panel:null})}),[l.popoverState,e.unmount,e.static,i]),(0,r.useEffect)((()=>{if(!n||0!==l.popoverState||!f.current)return;let e=null==m?void 0:m.activeElement;f.current.contains(e)||k(f.current,P.First)}),[n,f,l.popoverState]);let R=(0,r.useMemo)((()=>({open:0===l.popoverState,close:u})),[l,u]),S={ref:v,id:l.panelId,onKeyDown:y,onBlur:n&&0===l.popoverState?e=>{var t,n,r,o,a;let u=e.relatedTarget;!u||!f.current||null!=(t=f.current)&&t.contains(u)||(i({type:1}),((null==(r=null==(n=l.beforePanelSentinel.current)?void 0:n.contains)?void 0:r.call(n,u))||(null==(a=null==(o=l.afterPanelSentinel.current)?void 0:o.contains)?void 0:a.call(o,u)))&&u.focus({preventScroll:!0}))}:void 0,tabIndex:-1},E=Oe(),w=c((()=>{let e=f.current;e&&g(E.current,{[Ce.Forwards]:()=>{k(e,P.First)},[Ce.Backwards]:()=>{var e;null==(e=l.button)||e.focus({preventScroll:!0})}})})),T=c((()=>{let e=f.current;e&&g(E.current,{[Ce.Forwards]:()=>{var e,t,n;if(!l.button)return;let r=I(),o=r.indexOf(l.button),a=r.slice(0,o+1),i=[...r.slice(o+1),...a];for(let r of i.slice())if((null==(t=null==(e=null==r?void 0:r.id)?void 0:e.startsWith)?void 0:t.call(e,"headlessui-focus-sentinel-"))||(null==(n=l.panel)?void 0:n.contains(r))){let e=i.indexOf(r);-1!==e&&i.splice(e,1)}k(i,P.First,!1)},[Ce.Backwards]:()=>k(e,P.Last)})}));return o().createElement(Pn.Provider,{value:l.panelId},x&&s&&o().createElement(ne,{id:d,ref:l.beforePanelSentinel,features:te.Focusable,as:"button",type:"button",onFocus:w}),K({ourProps:S,theirProps:a,slot:R,defaultTag:"div",features:Cn,visible:x,name:"Popover.Panel"}),x&&s&&o().createElement(ne,{id:p,ref:l.afterPanelSentinel,features:te.Focusable,as:"button",type:"button",onFocus:T}))})),Dn=Q((function(e,t){let n=(0,r.useRef)(null),a=B(n,t),[l,i]=(0,r.useState)([]),u=c((e=>{i((t=>{let n=t.indexOf(e);if(-1!==n){let e=t.slice();return e.splice(n,1),e}return t}))})),s=c((e=>(i((t=>[...t,e])),()=>u(e)))),d=c((()=>{var e;let t=h(n);if(!t)return!1;let r=t.activeElement;return!(null==(e=n.current)||!e.contains(r))||l.some((e=>{var n,o;return(null==(n=t.getElementById(e.buttonId))?void 0:n.contains(r))||(null==(o=t.getElementById(e.panelId))?void 0:o.contains(r))}))})),p=c((e=>{for(let t of l)t.buttonId!==e&&t.close()})),f=(0,r.useMemo)((()=>({registerPopover:s,unregisterPopover:u,isFocusWithinPopoverGroup:d,closeOthers:p})),[s,u,d,p]),v=(0,r.useMemo)((()=>({})),[]),m=e,b={ref:a};return o().createElement(yn.Provider,{value:f},K({ourProps:b,theirProps:m,slot:v,defaultTag:"div",name:"Popover.Group"}))})),kn=Object.assign(En,{Button:In,Overlay:Tn,Panel:On,Group:Dn}),Fn=(0,r.createContext)(null);function Ln(){let e=(0,r.useContext)(Fn);if(null===e){let e=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,Ln),e}return e}function An(){let[e,t]=(0,r.useState)([]);return[e.length>0?e.join(" "):void 0,(0,r.useMemo)((()=>function(e){let n=c((e=>(t((t=>[...t,e])),()=>t((t=>{let n=t.slice(),r=n.indexOf(e);return-1!==r&&n.splice(r,1),n}))))),a=(0,r.useMemo)((()=>({register:n,slot:e.slot,name:e.name,props:e.props})),[n,e.slot,e.name,e.props]);return o().createElement(Fn.Provider,{value:a},e.children)}),[t])]}let Mn=Q((function(e,t){let{passive:n=!1,...r}=e,o=Ln(),l=`headlessui-label-${b()}`,i=B(t);a((()=>o.register(l)),[l,o.register]);let u={ref:i,...o.props,id:l};return n&&("onClick"in u&&delete u.onClick,"onClick"in r&&delete r.onClick),K({ourProps:u,theirProps:r,slot:o.slot||{},defaultTag:"label",name:o.name||"Label"})}));var Nn=(e=>(e[e.RegisterOption=0]="RegisterOption",e[e.UnregisterOption=1]="UnregisterOption",e))(Nn||{});let $n={0(e,t){let n=[...e.options,{id:t.id,element:t.element,propsRef:t.propsRef}];return{...e,options:D(n,(e=>e.element.current))}},1(e,t){let n=e.options.slice(),r=e.options.findIndex((e=>e.id===t.id));return-1===r?e:(n.splice(r,1),{...e,options:n})}},Bn=(0,r.createContext)(null);function Un(e){let t=(0,r.useContext)(Bn);if(null===t){let t=new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Un),t}return t}function Hn(e,t){return g(t.type,$n,e,t)}Bn.displayName="RadioGroupContext";let jn=Q((function(e,t){let{value:n,name:a,onChange:l,disabled:i=!1,...u}=e,s=c(((e,t)=>e===t)),[d,p]=(0,r.useReducer)(Hn,{options:[]}),f=d.options,[v,m]=An(),[g,x]=Ze(),y=`headlessui-radiogroup-${b()}`,R=(0,r.useRef)(null),E=B(R,t),I=(0,r.useMemo)((()=>f.find((e=>!e.propsRef.current.disabled))),[f]),w=(0,r.useMemo)((()=>f.some((e=>s(e.propsRef.current.value,n)))),[f,n]),T=c((e=>{var t;if(i||s(e,n))return!1;let r=null==(t=f.find((t=>s(t.propsRef.current.value,e))))?void 0:t.propsRef.current;return!(null!=r&&r.disabled||(l(e),0))}));U({container:R.current,accept:e=>"radio"===e.getAttribute("role")?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT,walk(e){e.setAttribute("role","none")}});let C=c((e=>{let t=R.current;if(!t)return;let n=h(t),r=f.filter((e=>!1===e.propsRef.current.disabled)).map((e=>e.element.current));switch(e.key){case ie.Enter:ee(e.currentTarget);break;case ie.ArrowLeft:case ie.ArrowUp:if(e.preventDefault(),e.stopPropagation(),k(r,P.Previous|P.WrapAround)===S.Success){let e=f.find((e=>e.element.current===(null==n?void 0:n.activeElement)));e&&T(e.propsRef.current.value)}break;case ie.ArrowRight:case ie.ArrowDown:if(e.preventDefault(),e.stopPropagation(),k(r,P.Next|P.WrapAround)===S.Success){let e=f.find((e=>e.element.current===(null==n?void 0:n.activeElement)));e&&T(e.propsRef.current.value)}break;case ie.Space:{e.preventDefault(),e.stopPropagation();let t=f.find((e=>e.element.current===(null==n?void 0:n.activeElement)));t&&T(t.propsRef.current.value)}}})),O=c((e=>(p({type:0,...e}),()=>p({type:1,id:e.id})))),D=(0,r.useMemo)((()=>({registerOption:O,firstOption:I,containsCheckedOption:w,change:T,disabled:i,value:n,compare:s})),[O,I,w,T,i,n,s]),F={ref:E,id:y,role:"radiogroup","aria-labelledby":v,"aria-describedby":g,onKeyDown:C};return o().createElement(x,{name:"RadioGroup.Description"},o().createElement(m,{name:"RadioGroup.Label"},o().createElement(Bn.Provider,{value:D},null!=a&&null!=n&&J({[a]:n}).map((([e,t])=>o().createElement(ne,{features:te.Hidden,...V({key:e,as:"input",type:"radio",checked:null!=t,hidden:!0,readOnly:!0,name:e,value:t})}))),K({ourProps:F,theirProps:u,defaultTag:"div",name:"RadioGroup"}))))}));var Gn=(e=>(e[e.Empty=1]="Empty",e[e.Active=2]="Active",e))(Gn||{});let _n=Q((function(e,t){let n=(0,r.useRef)(null),l=B(n,t),i=`headlessui-radiogroup-option-${b()}`,[u,s]=An(),[d,p]=Ze(),{addFlag:f,removeFlag:v,hasFlag:m}=function(e=0){let[t,n]=(0,r.useState)(e),o=(0,r.useCallback)((e=>n((t=>t|e))),[t]),a=(0,r.useCallback)((e=>Boolean(t&e)),[t]),l=(0,r.useCallback)((e=>n((t=>t&~e))),[n]),i=(0,r.useCallback)((e=>n((t=>t^e))),[n]);return{addFlag:o,hasFlag:a,removeFlag:l,toggleFlag:i}}(1),{value:g,disabled:h=!1,...x}=e,y=(0,r.useRef)({value:g,disabled:h});a((()=>{y.current.value=g}),[g,y]),a((()=>{y.current.disabled=h}),[h,y]);let{registerOption:R,disabled:P,change:S,firstOption:E,containsCheckedOption:I,value:w,compare:T}=Un("RadioGroup.Option");a((()=>R({id:i,element:n,propsRef:y})),[i,R,n,e]);let C=c((()=>{var e;!S(g)||(f(2),null==(e=n.current)||e.focus())})),O=c((()=>f(2))),D=c((()=>v(2))),k=(null==E?void 0:E.id)===i,F=P||h,L=T(w,g),A={ref:l,id:i,role:"radio","aria-checked":L?"true":"false","aria-labelledby":u,"aria-describedby":d,"aria-disabled":!!F||void 0,tabIndex:F?-1:L||!I&&k?0:-1,onClick:F?void 0:C,onFocus:F?void 0:O,onBlur:F?void 0:D},M=(0,r.useMemo)((()=>({checked:L,disabled:F,active:m(2)})),[L,F,m]);return o().createElement(p,{name:"RadioGroup.Description"},o().createElement(s,{name:"RadioGroup.Label"},K({ourProps:A,theirProps:x,slot:M,defaultTag:"div",name:"RadioGroup.Option"})))})),Kn=Object.assign(jn,{Option:_n,Label:Mn,Description:et}),Wn=(0,r.createContext)(null);Wn.displayName="GroupContext";let qn=r.Fragment,Qn=Q((function(e,t){let{checked:n,onChange:a,name:l,value:i,...u}=e,s=`headlessui-switch-${b()}`,d=(0,r.useContext)(Wn),p=(0,r.useRef)(null),f=B(p,t,null===d?null:d.setSwitch),v=c((()=>a(!n))),m=c((e=>{if(Y(e.currentTarget))return e.preventDefault();e.preventDefault(),v()})),g=c((e=>{e.key===ie.Space?(e.preventDefault(),v()):e.key===ie.Enter&&ee(e.currentTarget)})),h=c((e=>e.preventDefault())),x=(0,r.useMemo)((()=>({checked:n})),[n]),y={id:s,ref:f,role:"switch",type:M(e,p),tabIndex:0,"aria-checked":n,"aria-labelledby":null==d?void 0:d.labelledby,"aria-describedby":null==d?void 0:d.describedby,onClick:m,onKeyUp:g,onKeyPress:h};return o().createElement(o().Fragment,null,null!=l&&n&&o().createElement(ne,{features:te.Hidden,...V({as:"input",type:"checkbox",hidden:!0,readOnly:!0,checked:n,name:l,value:i})}),K({ourProps:y,theirProps:u,slot:x,defaultTag:"button",name:"Switch"}))})),Vn=Object.assign(Qn,{Group:function(e){let[t,n]=(0,r.useState)(null),[a,l]=An(),[i,u]=Ze(),s=(0,r.useMemo)((()=>({switch:t,setSwitch:n,labelledby:a,describedby:i})),[t,n,a,i]),c=e;return o().createElement(u,{name:"Switch.Description"},o().createElement(l,{name:"Switch.Label",props:{onClick(){!t||(t.click(),t.focus({preventScroll:!0}))}}},o().createElement(Wn.Provider,{value:s},K({ourProps:{},theirProps:c,defaultTag:qn,name:"Switch.Group"}))))},Label:Mn,Description:et});function zn({onFocus:e}){let[t,n]=(0,r.useState)(!0);return t?o().createElement(ne,{as:"button",type:"button",features:te.Focusable,onFocus:t=>{t.preventDefault();let r,o=50;r=requestAnimationFrame((function t(){if(!(o--<=0))return e()?(n(!1),void cancelAnimationFrame(r)):void(r=requestAnimationFrame(t));r&&cancelAnimationFrame(r)}))}}):null}var Yn=(e=>(e[e.SetSelectedIndex=0]="SetSelectedIndex",e[e.RegisterTab=1]="RegisterTab",e[e.UnregisterTab=2]="UnregisterTab",e[e.RegisterPanel=3]="RegisterPanel",e[e.UnregisterPanel=4]="UnregisterPanel",e[e.ForceRerender=5]="ForceRerender",e))(Yn||{});let Jn={0(e,t){let n=e.tabs.filter((e=>{var t;return!(null!=(t=e.current)&&t.hasAttribute("disabled"))}));if(t.index<0)return{...e,selectedIndex:e.tabs.indexOf(n[0])};if(t.index>e.tabs.length)return{...e,selectedIndex:e.tabs.indexOf(n[n.length-1])};let r=e.tabs.slice(0,t.index),o=[...e.tabs.slice(t.index),...r].find((e=>n.includes(e)));return o?{...e,selectedIndex:e.tabs.indexOf(o)}:e},1:(e,t)=>e.tabs.includes(t.tab)?e:{...e,tabs:D([...e.tabs,t.tab],(e=>e.current))},2:(e,t)=>({...e,tabs:D(e.tabs.filter((e=>e!==t.tab)),(e=>e.current))}),3:(e,t)=>e.panels.includes(t.panel)?e:{...e,panels:[...e.panels,t.panel]},4:(e,t)=>({...e,panels:e.panels.filter((e=>e!==t.panel))}),5:e=>({...e})},Xn=(0,r.createContext)(null);function Zn(e){let t=(0,r.useContext)(Xn);if(null===t){let t=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Zn),t}return t}Xn.displayName="TabsSSRContext";let er=(0,r.createContext)(null);function tr(e){let t=(0,r.useContext)(er);if(null===t){let t=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,tr),t}return t}er.displayName="TabsDataContext";let nr=(0,r.createContext)(null);function rr(e){let t=(0,r.useContext)(nr);if(null===t){let t=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,rr),t}return t}function or(e,t){return g(t.type,Jn,e,t)}nr.displayName="TabsActionsContext";let ar=r.Fragment,lr=Q((function(e,t){let{defaultIndex:n=0,vertical:i=!1,manual:u=!1,onChange:s,selectedIndex:c=null,...d}=e;const p=i?"vertical":"horizontal",f=u?"manual":"auto";let v=B(t),[m,b]=(0,r.useReducer)(or,{selectedIndex:null!=c?c:n,tabs:[],panels:[]}),g=(0,r.useMemo)((()=>({selectedIndex:m.selectedIndex})),[m.selectedIndex]),h=l(s||(()=>{})),x=l(m.tabs),y=(0,r.useMemo)((()=>({orientation:p,activation:f,...m})),[p,f,m]),R=l(m.selectedIndex),P=(0,r.useMemo)((()=>({registerTab:e=>(b({type:1,tab:e}),()=>b({type:2,tab:e})),registerPanel:e=>(b({type:3,panel:e}),()=>b({type:4,panel:e})),forceRerender(){b({type:5})},change(e){R.current!==e&&h.current(e),R.current=e,b({type:0,index:e})}})),[b]);a((()=>{b({type:0,index:null!=c?c:n})}),[c]);let S=(0,r.useRef)({tabs:[],panels:[]}),E={ref:v};return o().createElement(Xn.Provider,{value:S},o().createElement(nr.Provider,{value:P},o().createElement(er.Provider,{value:y},y.tabs.length<=0&&o().createElement(zn,{onFocus:()=>{var e,t;for(let n of x.current)if(0===(null==(e=n.current)?void 0:e.tabIndex))return null==(t=n.current)||t.focus(),!0;return!1}}),K({ourProps:E,theirProps:d,slot:g,defaultTag:ar,name:"Tabs"}))))})),ir=Q((function(e,t){let{orientation:n,selectedIndex:r}=tr("Tab.List");return K({ourProps:{ref:B(t),role:"tablist","aria-orientation":n},theirProps:e,slot:{selectedIndex:r},defaultTag:"div",name:"Tabs.List"})})),ur=Q((function(e,t){var n,o;let l=`headlessui-tabs-tab-${b()}`,{orientation:i,activation:u,selectedIndex:s,tabs:d,panels:p}=tr("Tab"),f=rr("Tab"),v=Zn("Tab"),m=(0,r.useRef)(null),h=B(m,t,(e=>{!e||f.forceRerender()}));a((()=>f.registerTab(m)),[f,m]);let x=v.current.tabs.indexOf(l);-1===x&&(x=v.current.tabs.push(l)-1);let y=d.indexOf(m);-1===y&&(y=x);let R=y===s,S=c((e=>{let t=d.map((e=>e.current)).filter(Boolean);if(e.key===ie.Space||e.key===ie.Enter)return e.preventDefault(),e.stopPropagation(),void f.change(y);switch(e.key){case ie.Home:case ie.PageUp:return e.preventDefault(),e.stopPropagation(),k(t,P.First);case ie.End:case ie.PageDown:return e.preventDefault(),e.stopPropagation(),k(t,P.Last)}return g(i,{vertical:()=>e.key===ie.ArrowUp?k(t,P.Previous|P.WrapAround):e.key===ie.ArrowDown?k(t,P.Next|P.WrapAround):void 0,horizontal:()=>e.key===ie.ArrowLeft?k(t,P.Previous|P.WrapAround):e.key===ie.ArrowRight?k(t,P.Next|P.WrapAround):void 0})?e.preventDefault():void 0})),E=c((()=>{var e;null==(e=m.current)||e.focus()})),I=c((()=>{var e;null==(e=m.current)||e.focus(),f.change(y)})),w=c((e=>{e.preventDefault()})),T=(0,r.useMemo)((()=>({selected:R})),[R]),C=e;return K({ourProps:{ref:h,onKeyDown:S,onFocus:"manual"===u?E:I,onMouseDown:w,onClick:I,id:l,role:"tab",type:M(e,m),"aria-controls":null==(o=null==(n=p[y])?void 0:n.current)?void 0:o.id,"aria-selected":R,tabIndex:R?0:-1},theirProps:C,slot:T,defaultTag:"button",name:"Tabs.Tab"})})),sr=Q((function(e,t){let{selectedIndex:n}=tr("Tab.Panels");return K({ourProps:{ref:B(t)},theirProps:e,slot:(0,r.useMemo)((()=>({selectedIndex:n})),[n]),defaultTag:"div",name:"Tabs.Panels"})})),cr=G.RenderStrategy|G.Static,dr=Q((function(e,t){var n,o;let{selectedIndex:l,tabs:i,panels:u}=tr("Tab.Panel"),s=rr("Tab.Panel"),c=Zn("Tab.Panel"),d=`headlessui-tabs-panel-${b()}`,p=(0,r.useRef)(null),f=B(p,t,(e=>{!e||s.forceRerender()}));a((()=>s.registerPanel(p)),[s,p]);let v=c.current.panels.indexOf(d);-1===v&&(v=c.current.panels.push(d)-1);let m=u.indexOf(p);-1===m&&(m=v);let g=m===l,h=(0,r.useMemo)((()=>({selected:g})),[g]),x=e;return K({ourProps:{ref:f,id:d,role:"tabpanel","aria-labelledby":null==(o=null==(n=i[m])?void 0:n.current)?void 0:o.id,tabIndex:g?0:-1},theirProps:x,slot:h,defaultTag:"div",features:cr,visible:g,name:"Tabs.Panel"})})),pr=Object.assign(ur,{Group:lr,List:ir,Panels:sr,Panel:dr});function fr(e,...t){e&&t.length>0&&e.classList.add(...t)}function vr(e,...t){e&&t.length>0&&e.classList.remove(...t)}var mr=(e=>(e.Ended="ended",e.Cancelled="cancelled",e))(mr||{});function br(e,t,n,r){let o=n?"enter":"leave",a=u(),l=void 0!==r?function(e){let t={called:!1};return(...n)=>{if(!t.called)return t.called=!0,e(...n)}}(r):()=>{},i=g(o,{enter:()=>t.enter,leave:()=>t.leave}),s=g(o,{enter:()=>t.enterTo,leave:()=>t.leaveTo}),c=g(o,{enter:()=>t.enterFrom,leave:()=>t.leaveFrom});return vr(e,...t.enter,...t.enterTo,...t.enterFrom,...t.leave,...t.leaveFrom,...t.leaveTo,...t.entered),fr(e,...i,...c),a.nextFrame((()=>{vr(e,...c),fr(e,...s),function(e,t){let n=u();if(!e)return n.dispose;let{transitionDuration:r,transitionDelay:o}=getComputedStyle(e),[a,l]=[r,o].map((e=>{let[t=0]=e.split(",").filter(Boolean).map((e=>e.includes("ms")?parseFloat(e):1e3*parseFloat(e))).sort(((e,t)=>t-e));return t}));if(a+l!==0){let r=[];r.push(n.addEventListener(e,"transitionrun",(o=>{o.target===o.currentTarget&&(r.splice(0).forEach((e=>e())),r.push(n.addEventListener(e,"transitionend",(e=>{e.target===e.currentTarget&&(t("ended"),r.splice(0).forEach((e=>e())))})),n.addEventListener(e,"transitioncancel",(e=>{e.target===e.currentTarget&&(t("cancelled"),r.splice(0).forEach((e=>e())))}))))})))}else t("ended");n.add((()=>t("cancelled"))),n.dispose}(e,(n=>("ended"===n&&(vr(e,...i),fr(e,...t.entered)),l(n))))})),a.dispose}function gr(e=""){return e.split(" ").filter((e=>e.trim().length>1))}let hr=(0,r.createContext)(null);hr.displayName="TransitionContext";var xr=(e=>(e.Visible="visible",e.Hidden="hidden",e))(xr||{});let yr=(0,r.createContext)(null);function Rr(e){return"children"in e?Rr(e.children):e.current.filter((({state:e})=>"visible"===e)).length>0}function Pr(e){let t=l(e),n=(0,r.useRef)([]),o=De(),a=c(((e,r=_.Hidden)=>{let a=n.current.findIndex((({id:t})=>t===e));-1!==a&&(g(r,{[_.Unmount](){n.current.splice(a,1)},[_.Hidden](){n.current[a].state="hidden"}}),Le((()=>{var e;!Rr(n)&&o.current&&(null==(e=t.current)||e.call(t))})))})),i=c((e=>{let t=n.current.find((({id:t})=>t===e));return t?"visible"!==t.state&&(t.state="visible"):n.current.push({id:e,state:"visible"}),()=>a(e,_.Unmount)}));return(0,r.useMemo)((()=>({children:n,register:i,unregister:a})),[i,a,n])}function Sr(){}yr.displayName="NestingContext";let Er=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function Ir(e){var t;let n={};for(let r of Er)n[r]=null!=(t=e[r])?t:Sr;return n}let wr=G.RenderStrategy,Tr=Q((function(e,t){let{beforeEnter:n,afterEnter:i,beforeLeave:d,afterLeave:f,enter:v,enterFrom:m,enterTo:h,entered:x,leave:y,leaveFrom:R,leaveTo:P,...S}=e,E=(0,r.useRef)(null),I=B(E,t),[w,T]=(0,r.useState)("visible"),C=S.unmount?_.Unmount:_.Hidden,{show:O,appear:D,initial:k}=function(){let e=(0,r.useContext)(hr);if(null===e)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),{register:F,unregister:L}=function(){let e=(0,r.useContext)(yr);if(null===e)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),A=(0,r.useRef)(null),M=b();(0,r.useEffect)((()=>{if(M)return F(M)}),[F,M]),(0,r.useEffect)((()=>{if(C===_.Hidden&&M){if(O&&"visible"!==w)return void T("visible");g(w,{hidden:()=>L(M),visible:()=>F(M)})}}),[w,M,F,L,O,C]);let N=l({enter:gr(v),enterFrom:gr(m),enterTo:gr(h),entered:gr(x),leave:gr(y),leaveFrom:gr(R),leaveTo:gr(P)}),$=function(e){let t=(0,r.useRef)(Ir(e));return(0,r.useEffect)((()=>{t.current=Ir(e)}),[e]),t}({beforeEnter:n,afterEnter:i,beforeLeave:d,afterLeave:f}),U=p();(0,r.useEffect)((()=>{if(U&&"visible"===w&&null===E.current)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}),[E,w,U]);let H=k&&!D,j=!U||H||A.current===O?"idle":O?"enter":"leave",G=(0,r.useRef)(!1),W=Pr((()=>{G.current||(T("hidden"),L(M))}));(function({container:e,direction:t,classes:n,events:r,onStart:o,onStop:i}){let d=De(),p=s(),f=l(t),v=c((()=>g(f.current,{enter:()=>r.current.beforeEnter(),leave:()=>r.current.beforeLeave(),idle:()=>{}}))),m=c((()=>g(f.current,{enter:()=>r.current.afterEnter(),leave:()=>r.current.afterLeave(),idle:()=>{}})));a((()=>{let t=u();p.add(t.dispose);let r=e.current;if(r&&"idle"!==f.current&&d.current)return t.dispose(),v(),o.current(f.current),t.add(br(r,n.current,"enter"===f.current,(e=>{t.dispose(),g(e,{[mr.Ended](){m(),i.current(f.current)},[mr.Cancelled]:()=>{}})}))),t.dispose}),[t])})({container:E,classes:N,events:$,direction:j,onStart:l((()=>{G.current=!0})),onStop:l((e=>{G.current=!1,"leave"===e&&!Rr(W)&&(T("hidden"),L(M))}))}),(0,r.useEffect)((()=>{!H||(C===_.Hidden?A.current=null:A.current=O)}),[O,H,w]);let q=S,Q={ref:I};return o().createElement(yr.Provider,{value:W},o().createElement(le,{value:g(w,{visible:oe.Open,hidden:oe.Closed})},K({ourProps:Q,theirProps:q,defaultTag:"div",features:wr,visible:"visible"===w,name:"Transition.Child"})))})),Cr=Q((function(e,t){let{show:n,appear:l=!1,unmount:i,...u}=e,s=(0,r.useRef)(null),c=B(s,t);p();let d=ae();if(void 0===n&&null!==d&&(n=g(d,{[oe.Open]:!0,[oe.Closed]:!1})),![!0,!1].includes(n))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[f,v]=(0,r.useState)(n?"visible":"hidden"),m=Pr((()=>{v("hidden")})),[b,h]=(0,r.useState)(!0),x=(0,r.useRef)([n]);a((()=>{!1!==b&&x.current[x.current.length-1]!==n&&(x.current.push(n),h(!1))}),[x,n]);let y=(0,r.useMemo)((()=>({show:n,appear:l,initial:b})),[n,l,b]);(0,r.useEffect)((()=>{if(n)v("visible");else if(Rr(m)){let e=s.current;if(!e)return;let t=e.getBoundingClientRect();0===t.x&&0===t.y&&0===t.width&&0===t.height&&v("hidden")}else v("hidden")}),[n,m]);let R={unmount:i};return o().createElement(yr.Provider,{value:m},o().createElement(hr.Provider,{value:y},K({ourProps:{...R,as:r.Fragment,children:o().createElement(Tr,{ref:c,...R,...u})},theirProps:{},defaultTag:r.Fragment,features:wr,visible:"visible"===f,name:"Transition"})))})),Or=Q((function(e,t){let n=null!==(0,r.useContext)(hr),a=null!==ae();return o().createElement(o().Fragment,null,!n&&a?o().createElement(Cr,{ref:t,...e}):o().createElement(Tr,{ref:t,...e}))})),Dr=Object.assign(Cr,{Child:Or,Root:Cr})}}]);